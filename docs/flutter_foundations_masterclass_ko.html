<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Flutter Foundations Masterclass (Korean Edition)</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="flutter_masterclass_print.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Flutter Foundations Masterclass (Korean Edition)</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#flutter-foundations-masterclass-korean-edition"
id="toc-flutter-foundations-masterclass-korean-edition"><span
class="toc-section-number">1</span> Flutter Foundations Masterclass
(Korean Edition)</a>
<ul>
<li><a href="#이-교재를-읽는-방법" id="toc-이-교재를-읽는-방법"><span
class="toc-section-number">1.1</span> 이 교재를 읽는 방법</a></li>
<li><a href="#프로젝트-구조-스캔-요약-실제-레포-기준"
id="toc-프로젝트-구조-스캔-요약-실제-레포-기준"><span
class="toc-section-number">1.2</span> 프로젝트 구조 스캔 요약 (실제 레포
기준)</a>
<ul>
<li><a href="#상위-디렉터리-요약" id="toc-상위-디렉터리-요약"><span
class="toc-section-number">1.2.1</span> 상위 디렉터리 요약</a></li>
<li><a href="#현재-기술-스택-분석" id="toc-현재-기술-스택-분석"><span
class="toc-section-number">1.2.2</span> 현재 기술 스택 분석</a></li>
<li><a href="#런타임-흐름-개요" id="toc-런타임-흐름-개요"><span
class="toc-section-number">1.2.3</span> 런타임 흐름 개요</a></li>
<li><a href="#레이어-아키텍처-개요" id="toc-레이어-아키텍처-개요"><span
class="toc-section-number">1.2.4</span> 레이어 아키텍처 개요</a></li>
<li><a href="#이-프로젝트에서-초보가-먼저-건드려도-안전한-파일"
id="toc-이-프로젝트에서-초보가-먼저-건드려도-안전한-파일"><span
class="toc-section-number">1.2.5</span> 이 프로젝트에서 초보가 먼저
건드려도 안전한 파일</a></li>
<li><a href="#건드리면-위험한-파일-주의"
id="toc-건드리면-위험한-파일-주의"><span
class="toc-section-number">1.2.6</span> 건드리면 위험한 파일
(주의)</a></li>
<li><a href="#기능-추가-권장-작업-순서-체크리스트"
id="toc-기능-추가-권장-작업-순서-체크리스트"><span
class="toc-section-number">1.2.7</span> 기능 추가 권장 작업 순서
(체크리스트)</a></li>
</ul></li>
<li><a href="#공통-검증-게이트" id="toc-공통-검증-게이트"><span
class="toc-section-number">1.3</span> 공통 검증 게이트</a></li>
</ul></li>
<li><a href="#chapter-1.-flutter와-dart를-왜-배워야-하는가"
id="toc-chapter-1.-flutter와-dart를-왜-배워야-하는가"><span
class="toc-section-number">2</span> Chapter 1. Flutter와 Dart를 왜
배워야 하는가</a>
<ul>
<li><a href="#왜-필요한가" id="toc-왜-필요한가"><span
class="toc-section-number">2.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표" id="toc-학습-목표"><span
class="toc-section-number">2.2</span> 학습 목표</a></li>
<li><a href="#사전지식" id="toc-사전지식"><span
class="toc-section-number">2.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명" id="toc-핵심-개념-설명"><span
class="toc-section-number">2.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의" id="toc-개념-정의"><span
class="toc-section-number">2.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리" id="toc-동작-원리"><span
class="toc-section-number">2.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차" id="toc-실무-적용-절차"><span
class="toc-section-number">2.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트" id="toc-프로젝트-적용-포인트"><span
class="toc-section-number">2.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드" id="toc-실무-예제-코드"><span
class="toc-section-number">2.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴"
id="toc-예제-1-현재-장-핵심-패턴"><span
class="toc-section-number">2.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿"><span
class="toc-section-number">2.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예" id="toc-나쁜-예-vs-좋은-예"><span
class="toc-section-number">2.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트" id="toc-디버깅-포인트"><span
class="toc-section-number">2.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트"
id="toc-성능보안유지보수-체크포인트"><span
class="toc-section-number">2.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약" id="toc-장-마무리-요약"><span
class="toc-section-number">2.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항" id="toc-퀴즈-5문항"><span
class="toc-section-number">2.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설" id="toc-정답-및-해설"><span
class="toc-section-number">2.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제" id="toc-실습-과제"><span
class="toc-section-number">2.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설"
id="toc-실습-정답-코드-또는-해설"><span
class="toc-section-number">2.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트"
id="toc-실무에서-바로-쓰는-체크리스트"><span
class="toc-section-number">2.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a
href="#chapter-2.-dart-핵심-문법-변수-null-safety-class-asyncawait"
id="toc-chapter-2.-dart-핵심-문법-변수-null-safety-class-asyncawait"><span
class="toc-section-number">3</span> Chapter 2. Dart 핵심 문법: 변수,
null-safety, class, async/await</a>
<ul>
<li><a href="#왜-필요한가-1" id="toc-왜-필요한가-1"><span
class="toc-section-number">3.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-1" id="toc-학습-목표-1"><span
class="toc-section-number">3.2</span> 학습 목표</a></li>
<li><a href="#사전지식-1" id="toc-사전지식-1"><span
class="toc-section-number">3.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-1" id="toc-핵심-개념-설명-1"><span
class="toc-section-number">3.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-1" id="toc-개념-정의-1"><span
class="toc-section-number">3.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-1" id="toc-동작-원리-1"><span
class="toc-section-number">3.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-1" id="toc-실무-적용-절차-1"><span
class="toc-section-number">3.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-1"
id="toc-프로젝트-적용-포인트-1"><span
class="toc-section-number">3.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-1" id="toc-실무-예제-코드-1"><span
class="toc-section-number">3.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-1"
id="toc-예제-1-현재-장-핵심-패턴-1"><span
class="toc-section-number">3.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-1"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-1"><span
class="toc-section-number">3.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-1" id="toc-나쁜-예-vs-좋은-예-1"><span
class="toc-section-number">3.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-1" id="toc-디버깅-포인트-1"><span
class="toc-section-number">3.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-1"
id="toc-성능보안유지보수-체크포인트-1"><span
class="toc-section-number">3.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-1" id="toc-장-마무리-요약-1"><span
class="toc-section-number">3.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-1" id="toc-퀴즈-5문항-1"><span
class="toc-section-number">3.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-1" id="toc-정답-및-해설-1"><span
class="toc-section-number">3.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-1" id="toc-실습-과제-1"><span
class="toc-section-number">3.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-1"
id="toc-실습-정답-코드-또는-해설-1"><span
class="toc-section-number">3.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-1"
id="toc-실무에서-바로-쓰는-체크리스트-1"><span
class="toc-section-number">3.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-3.-widget-사고방식-everything-is-widget"
id="toc-chapter-3.-widget-사고방식-everything-is-widget"><span
class="toc-section-number">4</span> Chapter 3. Widget 사고방식:
Everything is Widget</a>
<ul>
<li><a href="#왜-필요한가-2" id="toc-왜-필요한가-2"><span
class="toc-section-number">4.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-2" id="toc-학습-목표-2"><span
class="toc-section-number">4.2</span> 학습 목표</a></li>
<li><a href="#사전지식-2" id="toc-사전지식-2"><span
class="toc-section-number">4.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-2" id="toc-핵심-개념-설명-2"><span
class="toc-section-number">4.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-2" id="toc-개념-정의-2"><span
class="toc-section-number">4.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-2" id="toc-동작-원리-2"><span
class="toc-section-number">4.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-2" id="toc-실무-적용-절차-2"><span
class="toc-section-number">4.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-2"
id="toc-프로젝트-적용-포인트-2"><span
class="toc-section-number">4.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-2" id="toc-실무-예제-코드-2"><span
class="toc-section-number">4.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-2"
id="toc-예제-1-현재-장-핵심-패턴-2"><span
class="toc-section-number">4.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-2"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-2"><span
class="toc-section-number">4.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-2" id="toc-나쁜-예-vs-좋은-예-2"><span
class="toc-section-number">4.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-2" id="toc-디버깅-포인트-2"><span
class="toc-section-number">4.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-2"
id="toc-성능보안유지보수-체크포인트-2"><span
class="toc-section-number">4.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-2" id="toc-장-마무리-요약-2"><span
class="toc-section-number">4.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-2" id="toc-퀴즈-5문항-2"><span
class="toc-section-number">4.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-2" id="toc-정답-및-해설-2"><span
class="toc-section-number">4.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-2" id="toc-실습-과제-2"><span
class="toc-section-number">4.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-2"
id="toc-실습-정답-코드-또는-해설-2"><span
class="toc-section-number">4.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-2"
id="toc-실무에서-바로-쓰는-체크리스트-2"><span
class="toc-section-number">4.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a
href="#chapter-4.-레이아웃-기초-rowcolumnstackflexexpandedpadding"
id="toc-chapter-4.-레이아웃-기초-rowcolumnstackflexexpandedpadding"><span
class="toc-section-number">5</span> Chapter 4. 레이아웃 기초:
Row/Column/Stack/Flex/Expanded/Padding</a>
<ul>
<li><a href="#왜-필요한가-3" id="toc-왜-필요한가-3"><span
class="toc-section-number">5.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-3" id="toc-학습-목표-3"><span
class="toc-section-number">5.2</span> 학습 목표</a></li>
<li><a href="#사전지식-3" id="toc-사전지식-3"><span
class="toc-section-number">5.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-3" id="toc-핵심-개념-설명-3"><span
class="toc-section-number">5.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-3" id="toc-개념-정의-3"><span
class="toc-section-number">5.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-3" id="toc-동작-원리-3"><span
class="toc-section-number">5.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-3" id="toc-실무-적용-절차-3"><span
class="toc-section-number">5.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-3"
id="toc-프로젝트-적용-포인트-3"><span
class="toc-section-number">5.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-3" id="toc-실무-예제-코드-3"><span
class="toc-section-number">5.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-3"
id="toc-예제-1-현재-장-핵심-패턴-3"><span
class="toc-section-number">5.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-3"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-3"><span
class="toc-section-number">5.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-3" id="toc-나쁜-예-vs-좋은-예-3"><span
class="toc-section-number">5.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-3" id="toc-디버깅-포인트-3"><span
class="toc-section-number">5.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-3"
id="toc-성능보안유지보수-체크포인트-3"><span
class="toc-section-number">5.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-3" id="toc-장-마무리-요약-3"><span
class="toc-section-number">5.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-3" id="toc-퀴즈-5문항-3"><span
class="toc-section-number">5.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-3" id="toc-정답-및-해설-3"><span
class="toc-section-number">5.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-3" id="toc-실습-과제-3"><span
class="toc-section-number">5.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-3"
id="toc-실습-정답-코드-또는-해설-3"><span
class="toc-section-number">5.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-3"
id="toc-실무에서-바로-쓰는-체크리스트-3"><span
class="toc-section-number">5.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a
href="#chapter-5.-화면-구조-실전-scaffoldappbarbottomnavigationsafearea"
id="toc-chapter-5.-화면-구조-실전-scaffoldappbarbottomnavigationsafearea"><span
class="toc-section-number">6</span> Chapter 5. 화면 구조 실전:
Scaffold/AppBar/BottomNavigation/SafeArea</a>
<ul>
<li><a href="#왜-필요한가-4" id="toc-왜-필요한가-4"><span
class="toc-section-number">6.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-4" id="toc-학습-목표-4"><span
class="toc-section-number">6.2</span> 학습 목표</a></li>
<li><a href="#사전지식-4" id="toc-사전지식-4"><span
class="toc-section-number">6.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-4" id="toc-핵심-개념-설명-4"><span
class="toc-section-number">6.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-4" id="toc-개념-정의-4"><span
class="toc-section-number">6.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-4" id="toc-동작-원리-4"><span
class="toc-section-number">6.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-4" id="toc-실무-적용-절차-4"><span
class="toc-section-number">6.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-4"
id="toc-프로젝트-적용-포인트-4"><span
class="toc-section-number">6.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-4" id="toc-실무-예제-코드-4"><span
class="toc-section-number">6.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-4"
id="toc-예제-1-현재-장-핵심-패턴-4"><span
class="toc-section-number">6.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-4"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-4"><span
class="toc-section-number">6.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-4" id="toc-나쁜-예-vs-좋은-예-4"><span
class="toc-section-number">6.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-4" id="toc-디버깅-포인트-4"><span
class="toc-section-number">6.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-4"
id="toc-성능보안유지보수-체크포인트-4"><span
class="toc-section-number">6.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-4" id="toc-장-마무리-요약-4"><span
class="toc-section-number">6.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-4" id="toc-퀴즈-5문항-4"><span
class="toc-section-number">6.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-4" id="toc-정답-및-해설-4"><span
class="toc-section-number">6.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-4" id="toc-실습-과제-4"><span
class="toc-section-number">6.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-4"
id="toc-실습-정답-코드-또는-해설-4"><span
class="toc-section-number">6.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-4"
id="toc-실무에서-바로-쓰는-체크리스트-4"><span
class="toc-section-number">6.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-6.-상태관리-기초setstate와-한계"
id="toc-chapter-6.-상태관리-기초setstate와-한계"><span
class="toc-section-number">7</span> Chapter 6. 상태관리 기초(setState)와
한계</a>
<ul>
<li><a href="#왜-필요한가-5" id="toc-왜-필요한가-5"><span
class="toc-section-number">7.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-5" id="toc-학습-목표-5"><span
class="toc-section-number">7.2</span> 학습 목표</a></li>
<li><a href="#사전지식-5" id="toc-사전지식-5"><span
class="toc-section-number">7.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-5" id="toc-핵심-개념-설명-5"><span
class="toc-section-number">7.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-5" id="toc-개념-정의-5"><span
class="toc-section-number">7.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-5" id="toc-동작-원리-5"><span
class="toc-section-number">7.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-5" id="toc-실무-적용-절차-5"><span
class="toc-section-number">7.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-5"
id="toc-프로젝트-적용-포인트-5"><span
class="toc-section-number">7.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-5" id="toc-실무-예제-코드-5"><span
class="toc-section-number">7.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-5"
id="toc-예제-1-현재-장-핵심-패턴-5"><span
class="toc-section-number">7.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-5"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-5"><span
class="toc-section-number">7.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-5" id="toc-나쁜-예-vs-좋은-예-5"><span
class="toc-section-number">7.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-5" id="toc-디버깅-포인트-5"><span
class="toc-section-number">7.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-5"
id="toc-성능보안유지보수-체크포인트-5"><span
class="toc-section-number">7.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-5" id="toc-장-마무리-요약-5"><span
class="toc-section-number">7.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-5" id="toc-퀴즈-5문항-5"><span
class="toc-section-number">7.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-5" id="toc-정답-및-해설-5"><span
class="toc-section-number">7.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-5" id="toc-실습-과제-5"><span
class="toc-section-number">7.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-5"
id="toc-실습-정답-코드-또는-해설-5"><span
class="toc-section-number">7.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-5"
id="toc-실무에서-바로-쓰는-체크리스트-5"><span
class="toc-section-number">7.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-7.-riverpod-핵심-providernotifierdi"
id="toc-chapter-7.-riverpod-핵심-providernotifierdi"><span
class="toc-section-number">8</span> Chapter 7. Riverpod 핵심:
Provider/Notifier/DI</a>
<ul>
<li><a href="#왜-필요한가-6" id="toc-왜-필요한가-6"><span
class="toc-section-number">8.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-6" id="toc-학습-목표-6"><span
class="toc-section-number">8.2</span> 학습 목표</a></li>
<li><a href="#사전지식-6" id="toc-사전지식-6"><span
class="toc-section-number">8.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-6" id="toc-핵심-개념-설명-6"><span
class="toc-section-number">8.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-6" id="toc-개념-정의-6"><span
class="toc-section-number">8.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-6" id="toc-동작-원리-6"><span
class="toc-section-number">8.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-6" id="toc-실무-적용-절차-6"><span
class="toc-section-number">8.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-6"
id="toc-프로젝트-적용-포인트-6"><span
class="toc-section-number">8.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-6" id="toc-실무-예제-코드-6"><span
class="toc-section-number">8.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-6"
id="toc-예제-1-현재-장-핵심-패턴-6"><span
class="toc-section-number">8.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-6"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-6"><span
class="toc-section-number">8.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-6" id="toc-나쁜-예-vs-좋은-예-6"><span
class="toc-section-number">8.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-6" id="toc-디버깅-포인트-6"><span
class="toc-section-number">8.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-6"
id="toc-성능보안유지보수-체크포인트-6"><span
class="toc-section-number">8.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-6" id="toc-장-마무리-요약-6"><span
class="toc-section-number">8.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-6" id="toc-퀴즈-5문항-6"><span
class="toc-section-number">8.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-6" id="toc-정답-및-해설-6"><span
class="toc-section-number">8.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-6" id="toc-실습-과제-6"><span
class="toc-section-number">8.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-6"
id="toc-실습-정답-코드-또는-해설-6"><span
class="toc-section-number">8.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-6"
id="toc-실무에서-바로-쓰는-체크리스트-6"><span
class="toc-section-number">8.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-8.-라우팅go_router-구조와-딥링크"
id="toc-chapter-8.-라우팅go_router-구조와-딥링크"><span
class="toc-section-number">9</span> Chapter 8. 라우팅(go_router) 구조와
딥링크</a>
<ul>
<li><a href="#왜-필요한가-7" id="toc-왜-필요한가-7"><span
class="toc-section-number">9.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-7" id="toc-학습-목표-7"><span
class="toc-section-number">9.2</span> 학습 목표</a></li>
<li><a href="#사전지식-7" id="toc-사전지식-7"><span
class="toc-section-number">9.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-7" id="toc-핵심-개념-설명-7"><span
class="toc-section-number">9.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-7" id="toc-개념-정의-7"><span
class="toc-section-number">9.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-7" id="toc-동작-원리-7"><span
class="toc-section-number">9.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-7" id="toc-실무-적용-절차-7"><span
class="toc-section-number">9.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-7"
id="toc-프로젝트-적용-포인트-7"><span
class="toc-section-number">9.4.4</span> 4) 프로젝트 적용 포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-7" id="toc-실무-예제-코드-7"><span
class="toc-section-number">9.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-7"
id="toc-예제-1-현재-장-핵심-패턴-7"><span
class="toc-section-number">9.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-7"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-7"><span
class="toc-section-number">9.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-7" id="toc-나쁜-예-vs-좋은-예-7"><span
class="toc-section-number">9.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-7" id="toc-디버깅-포인트-7"><span
class="toc-section-number">9.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-7"
id="toc-성능보안유지보수-체크포인트-7"><span
class="toc-section-number">9.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-7" id="toc-장-마무리-요약-7"><span
class="toc-section-number">9.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-7" id="toc-퀴즈-5문항-7"><span
class="toc-section-number">9.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-7" id="toc-정답-및-해설-7"><span
class="toc-section-number">9.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-7" id="toc-실습-과제-7"><span
class="toc-section-number">9.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-7"
id="toc-실습-정답-코드-또는-해설-7"><span
class="toc-section-number">9.12</span> 실습 정답 코드 또는 해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-7"
id="toc-실무에서-바로-쓰는-체크리스트-7"><span
class="toc-section-number">9.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-9.-앱-테마-themedata-colorscheme-texttheme"
id="toc-chapter-9.-앱-테마-themedata-colorscheme-texttheme"><span
class="toc-section-number">10</span> Chapter 9. 앱 테마: ThemeData,
ColorScheme, TextTheme</a>
<ul>
<li><a href="#왜-필요한가-8" id="toc-왜-필요한가-8"><span
class="toc-section-number">10.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-8" id="toc-학습-목표-8"><span
class="toc-section-number">10.2</span> 학습 목표</a></li>
<li><a href="#사전지식-8" id="toc-사전지식-8"><span
class="toc-section-number">10.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-8" id="toc-핵심-개념-설명-8"><span
class="toc-section-number">10.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-8" id="toc-개념-정의-8"><span
class="toc-section-number">10.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-8" id="toc-동작-원리-8"><span
class="toc-section-number">10.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-8" id="toc-실무-적용-절차-8"><span
class="toc-section-number">10.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-8"
id="toc-프로젝트-적용-포인트-8"><span
class="toc-section-number">10.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-8" id="toc-실무-예제-코드-8"><span
class="toc-section-number">10.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-8"
id="toc-예제-1-현재-장-핵심-패턴-8"><span
class="toc-section-number">10.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-8"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-8"><span
class="toc-section-number">10.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-8" id="toc-나쁜-예-vs-좋은-예-8"><span
class="toc-section-number">10.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-8" id="toc-디버깅-포인트-8"><span
class="toc-section-number">10.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-8"
id="toc-성능보안유지보수-체크포인트-8"><span
class="toc-section-number">10.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-8" id="toc-장-마무리-요약-8"><span
class="toc-section-number">10.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-8" id="toc-퀴즈-5문항-8"><span
class="toc-section-number">10.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-8" id="toc-정답-및-해설-8"><span
class="toc-section-number">10.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-8" id="toc-실습-과제-8"><span
class="toc-section-number">10.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-8"
id="toc-실습-정답-코드-또는-해설-8"><span
class="toc-section-number">10.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-8"
id="toc-실무에서-바로-쓰는-체크리스트-8"><span
class="toc-section-number">10.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-10.-비동기네트워크json에러-처리"
id="toc-chapter-10.-비동기네트워크json에러-처리"><span
class="toc-section-number">11</span> Chapter 10.
비동기/네트워크/JSON/에러 처리</a>
<ul>
<li><a href="#왜-필요한가-9" id="toc-왜-필요한가-9"><span
class="toc-section-number">11.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-9" id="toc-학습-목표-9"><span
class="toc-section-number">11.2</span> 학습 목표</a></li>
<li><a href="#사전지식-9" id="toc-사전지식-9"><span
class="toc-section-number">11.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-9" id="toc-핵심-개념-설명-9"><span
class="toc-section-number">11.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-9" id="toc-개념-정의-9"><span
class="toc-section-number">11.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-9" id="toc-동작-원리-9"><span
class="toc-section-number">11.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-9" id="toc-실무-적용-절차-9"><span
class="toc-section-number">11.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-9"
id="toc-프로젝트-적용-포인트-9"><span
class="toc-section-number">11.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-9" id="toc-실무-예제-코드-9"><span
class="toc-section-number">11.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-9"
id="toc-예제-1-현재-장-핵심-패턴-9"><span
class="toc-section-number">11.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-9"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-9"><span
class="toc-section-number">11.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-9" id="toc-나쁜-예-vs-좋은-예-9"><span
class="toc-section-number">11.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-9" id="toc-디버깅-포인트-9"><span
class="toc-section-number">11.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-9"
id="toc-성능보안유지보수-체크포인트-9"><span
class="toc-section-number">11.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-9" id="toc-장-마무리-요약-9"><span
class="toc-section-number">11.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-9" id="toc-퀴즈-5문항-9"><span
class="toc-section-number">11.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-9" id="toc-정답-및-해설-9"><span
class="toc-section-number">11.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-9" id="toc-실습-과제-9"><span
class="toc-section-number">11.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-9"
id="toc-실습-정답-코드-또는-해설-9"><span
class="toc-section-number">11.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-9"
id="toc-실무에서-바로-쓰는-체크리스트-9"><span
class="toc-section-number">11.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-11.-로컬-저장소shared_preferences와-앱-상태-복원"
id="toc-chapter-11.-로컬-저장소shared_preferences와-앱-상태-복원"><span
class="toc-section-number">12</span> Chapter 11. 로컬
저장소(shared_preferences)와 앱 상태 복원</a>
<ul>
<li><a href="#왜-필요한가-10" id="toc-왜-필요한가-10"><span
class="toc-section-number">12.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-10" id="toc-학습-목표-10"><span
class="toc-section-number">12.2</span> 학습 목표</a></li>
<li><a href="#사전지식-10" id="toc-사전지식-10"><span
class="toc-section-number">12.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-10" id="toc-핵심-개념-설명-10"><span
class="toc-section-number">12.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-10" id="toc-개념-정의-10"><span
class="toc-section-number">12.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-10" id="toc-동작-원리-10"><span
class="toc-section-number">12.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-10" id="toc-실무-적용-절차-10"><span
class="toc-section-number">12.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-10"
id="toc-프로젝트-적용-포인트-10"><span
class="toc-section-number">12.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-10" id="toc-실무-예제-코드-10"><span
class="toc-section-number">12.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-10"
id="toc-예제-1-현재-장-핵심-패턴-10"><span
class="toc-section-number">12.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-10"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-10"><span
class="toc-section-number">12.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-10"
id="toc-나쁜-예-vs-좋은-예-10"><span
class="toc-section-number">12.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-10" id="toc-디버깅-포인트-10"><span
class="toc-section-number">12.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-10"
id="toc-성능보안유지보수-체크포인트-10"><span
class="toc-section-number">12.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-10" id="toc-장-마무리-요약-10"><span
class="toc-section-number">12.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-10" id="toc-퀴즈-5문항-10"><span
class="toc-section-number">12.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-10" id="toc-정답-및-해설-10"><span
class="toc-section-number">12.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-10" id="toc-실습-과제-10"><span
class="toc-section-number">12.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-10"
id="toc-실습-정답-코드-또는-해설-10"><span
class="toc-section-number">12.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-10"
id="toc-실무에서-바로-쓰는-체크리스트-10"><span
class="toc-section-number">12.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-12.-아키텍처-설계-presentationdomaindata-분리"
id="toc-chapter-12.-아키텍처-설계-presentationdomaindata-분리"><span
class="toc-section-number">13</span> Chapter 12. 아키텍처 설계:
presentation/domain/data 분리</a>
<ul>
<li><a href="#왜-필요한가-11" id="toc-왜-필요한가-11"><span
class="toc-section-number">13.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-11" id="toc-학습-목표-11"><span
class="toc-section-number">13.2</span> 학습 목표</a></li>
<li><a href="#사전지식-11" id="toc-사전지식-11"><span
class="toc-section-number">13.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-11" id="toc-핵심-개념-설명-11"><span
class="toc-section-number">13.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-11" id="toc-개념-정의-11"><span
class="toc-section-number">13.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-11" id="toc-동작-원리-11"><span
class="toc-section-number">13.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-11" id="toc-실무-적용-절차-11"><span
class="toc-section-number">13.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-11"
id="toc-프로젝트-적용-포인트-11"><span
class="toc-section-number">13.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-11" id="toc-실무-예제-코드-11"><span
class="toc-section-number">13.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-11"
id="toc-예제-1-현재-장-핵심-패턴-11"><span
class="toc-section-number">13.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-11"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-11"><span
class="toc-section-number">13.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-11"
id="toc-나쁜-예-vs-좋은-예-11"><span
class="toc-section-number">13.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-11" id="toc-디버깅-포인트-11"><span
class="toc-section-number">13.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-11"
id="toc-성능보안유지보수-체크포인트-11"><span
class="toc-section-number">13.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-11" id="toc-장-마무리-요약-11"><span
class="toc-section-number">13.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-11" id="toc-퀴즈-5문항-11"><span
class="toc-section-number">13.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-11" id="toc-정답-및-해설-11"><span
class="toc-section-number">13.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-11" id="toc-실습-과제-11"><span
class="toc-section-number">13.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-11"
id="toc-실습-정답-코드-또는-해설-11"><span
class="toc-section-number">13.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-11"
id="toc-실무에서-바로-쓰는-체크리스트-11"><span
class="toc-section-number">13.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-13.-광고-기본-admob-배너-ump-동의"
id="toc-chapter-13.-광고-기본-admob-배너-ump-동의"><span
class="toc-section-number">14</span> Chapter 13. 광고 기본: AdMob 배너 +
UMP 동의</a>
<ul>
<li><a href="#왜-필요한가-12" id="toc-왜-필요한가-12"><span
class="toc-section-number">14.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-12" id="toc-학습-목표-12"><span
class="toc-section-number">14.2</span> 학습 목표</a></li>
<li><a href="#사전지식-12" id="toc-사전지식-12"><span
class="toc-section-number">14.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-12" id="toc-핵심-개념-설명-12"><span
class="toc-section-number">14.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-12" id="toc-개념-정의-12"><span
class="toc-section-number">14.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-12" id="toc-동작-원리-12"><span
class="toc-section-number">14.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-12" id="toc-실무-적용-절차-12"><span
class="toc-section-number">14.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-12"
id="toc-프로젝트-적용-포인트-12"><span
class="toc-section-number">14.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-12" id="toc-실무-예제-코드-12"><span
class="toc-section-number">14.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-12"
id="toc-예제-1-현재-장-핵심-패턴-12"><span
class="toc-section-number">14.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-12"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-12"><span
class="toc-section-number">14.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-12"
id="toc-나쁜-예-vs-좋은-예-12"><span
class="toc-section-number">14.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-12" id="toc-디버깅-포인트-12"><span
class="toc-section-number">14.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-12"
id="toc-성능보안유지보수-체크포인트-12"><span
class="toc-section-number">14.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-12" id="toc-장-마무리-요약-12"><span
class="toc-section-number">14.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-12" id="toc-퀴즈-5문항-12"><span
class="toc-section-number">14.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-12" id="toc-정답-및-해설-12"><span
class="toc-section-number">14.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-12" id="toc-실습-과제-12"><span
class="toc-section-number">14.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-12"
id="toc-실습-정답-코드-또는-해설-12"><span
class="toc-section-number">14.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-12"
id="toc-실무에서-바로-쓰는-체크리스트-12"><span
class="toc-section-number">14.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-14.-테스트-전략-단위위젯통합과-품질-게이트"
id="toc-chapter-14.-테스트-전략-단위위젯통합과-품질-게이트"><span
class="toc-section-number">15</span> Chapter 14. 테스트 전략:
단위/위젯/통합과 품질 게이트</a>
<ul>
<li><a href="#왜-필요한가-13" id="toc-왜-필요한가-13"><span
class="toc-section-number">15.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-13" id="toc-학습-목표-13"><span
class="toc-section-number">15.2</span> 학습 목표</a></li>
<li><a href="#사전지식-13" id="toc-사전지식-13"><span
class="toc-section-number">15.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-13" id="toc-핵심-개념-설명-13"><span
class="toc-section-number">15.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-13" id="toc-개념-정의-13"><span
class="toc-section-number">15.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-13" id="toc-동작-원리-13"><span
class="toc-section-number">15.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-13" id="toc-실무-적용-절차-13"><span
class="toc-section-number">15.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-13"
id="toc-프로젝트-적용-포인트-13"><span
class="toc-section-number">15.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-13" id="toc-실무-예제-코드-13"><span
class="toc-section-number">15.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-13"
id="toc-예제-1-현재-장-핵심-패턴-13"><span
class="toc-section-number">15.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-13"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-13"><span
class="toc-section-number">15.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-13"
id="toc-나쁜-예-vs-좋은-예-13"><span
class="toc-section-number">15.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-13" id="toc-디버깅-포인트-13"><span
class="toc-section-number">15.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-13"
id="toc-성능보안유지보수-체크포인트-13"><span
class="toc-section-number">15.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-13" id="toc-장-마무리-요약-13"><span
class="toc-section-number">15.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-13" id="toc-퀴즈-5문항-13"><span
class="toc-section-number">15.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-13" id="toc-정답-및-해설-13"><span
class="toc-section-number">15.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-13" id="toc-실습-과제-13"><span
class="toc-section-number">15.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-13"
id="toc-실습-정답-코드-또는-해설-13"><span
class="toc-section-number">15.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-13"
id="toc-실무에서-바로-쓰는-체크리스트-13"><span
class="toc-section-number">15.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-15.-디버깅-로그스택트레이스재현-전략"
id="toc-chapter-15.-디버깅-로그스택트레이스재현-전략"><span
class="toc-section-number">16</span> Chapter 15. 디버깅:
로그/스택트레이스/재현 전략</a>
<ul>
<li><a href="#왜-필요한가-14" id="toc-왜-필요한가-14"><span
class="toc-section-number">16.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-14" id="toc-학습-목표-14"><span
class="toc-section-number">16.2</span> 학습 목표</a></li>
<li><a href="#사전지식-14" id="toc-사전지식-14"><span
class="toc-section-number">16.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-14" id="toc-핵심-개념-설명-14"><span
class="toc-section-number">16.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-14" id="toc-개념-정의-14"><span
class="toc-section-number">16.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-14" id="toc-동작-원리-14"><span
class="toc-section-number">16.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-14" id="toc-실무-적용-절차-14"><span
class="toc-section-number">16.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-14"
id="toc-프로젝트-적용-포인트-14"><span
class="toc-section-number">16.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-14" id="toc-실무-예제-코드-14"><span
class="toc-section-number">16.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-14"
id="toc-예제-1-현재-장-핵심-패턴-14"><span
class="toc-section-number">16.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-14"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-14"><span
class="toc-section-number">16.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-14"
id="toc-나쁜-예-vs-좋은-예-14"><span
class="toc-section-number">16.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-14" id="toc-디버깅-포인트-14"><span
class="toc-section-number">16.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-14"
id="toc-성능보안유지보수-체크포인트-14"><span
class="toc-section-number">16.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-14" id="toc-장-마무리-요약-14"><span
class="toc-section-number">16.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-14" id="toc-퀴즈-5문항-14"><span
class="toc-section-number">16.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-14" id="toc-정답-및-해설-14"><span
class="toc-section-number">16.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-14" id="toc-실습-과제-14"><span
class="toc-section-number">16.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-14"
id="toc-실습-정답-코드-또는-해설-14"><span
class="toc-section-number">16.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-14"
id="toc-실무에서-바로-쓰는-체크리스트-14"><span
class="toc-section-number">16.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-16.-빌드릴리즈-android-aab버전서명"
id="toc-chapter-16.-빌드릴리즈-android-aab버전서명"><span
class="toc-section-number">17</span> Chapter 16. 빌드/릴리즈: Android
AAB/버전/서명</a>
<ul>
<li><a href="#왜-필요한가-15" id="toc-왜-필요한가-15"><span
class="toc-section-number">17.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-15" id="toc-학습-목표-15"><span
class="toc-section-number">17.2</span> 학습 목표</a></li>
<li><a href="#사전지식-15" id="toc-사전지식-15"><span
class="toc-section-number">17.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-15" id="toc-핵심-개념-설명-15"><span
class="toc-section-number">17.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-15" id="toc-개념-정의-15"><span
class="toc-section-number">17.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-15" id="toc-동작-원리-15"><span
class="toc-section-number">17.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-15" id="toc-실무-적용-절차-15"><span
class="toc-section-number">17.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-15"
id="toc-프로젝트-적용-포인트-15"><span
class="toc-section-number">17.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-15" id="toc-실무-예제-코드-15"><span
class="toc-section-number">17.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-15"
id="toc-예제-1-현재-장-핵심-패턴-15"><span
class="toc-section-number">17.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-15"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-15"><span
class="toc-section-number">17.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-15"
id="toc-나쁜-예-vs-좋은-예-15"><span
class="toc-section-number">17.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-15" id="toc-디버깅-포인트-15"><span
class="toc-section-number">17.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-15"
id="toc-성능보안유지보수-체크포인트-15"><span
class="toc-section-number">17.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-15" id="toc-장-마무리-요약-15"><span
class="toc-section-number">17.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-15" id="toc-퀴즈-5문항-15"><span
class="toc-section-number">17.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-15" id="toc-정답-및-해설-15"><span
class="toc-section-number">17.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-15" id="toc-실습-과제-15"><span
class="toc-section-number">17.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-15"
id="toc-실습-정답-코드-또는-해설-15"><span
class="toc-section-number">17.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-15"
id="toc-실무에서-바로-쓰는-체크리스트-15"><span
class="toc-section-number">17.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-17.-cicd-기초-github-actions-파이프라인-읽기"
id="toc-chapter-17.-cicd-기초-github-actions-파이프라인-읽기"><span
class="toc-section-number">18</span> Chapter 17. CI/CD 기초: GitHub
Actions 파이프라인 읽기</a>
<ul>
<li><a href="#왜-필요한가-16" id="toc-왜-필요한가-16"><span
class="toc-section-number">18.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-16" id="toc-학습-목표-16"><span
class="toc-section-number">18.2</span> 학습 목표</a></li>
<li><a href="#사전지식-16" id="toc-사전지식-16"><span
class="toc-section-number">18.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-16" id="toc-핵심-개념-설명-16"><span
class="toc-section-number">18.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-16" id="toc-개념-정의-16"><span
class="toc-section-number">18.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-16" id="toc-동작-원리-16"><span
class="toc-section-number">18.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-16" id="toc-실무-적용-절차-16"><span
class="toc-section-number">18.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-16"
id="toc-프로젝트-적용-포인트-16"><span
class="toc-section-number">18.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-16" id="toc-실무-예제-코드-16"><span
class="toc-section-number">18.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-16"
id="toc-예제-1-현재-장-핵심-패턴-16"><span
class="toc-section-number">18.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-16"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-16"><span
class="toc-section-number">18.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-16"
id="toc-나쁜-예-vs-좋은-예-16"><span
class="toc-section-number">18.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-16" id="toc-디버깅-포인트-16"><span
class="toc-section-number">18.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-16"
id="toc-성능보안유지보수-체크포인트-16"><span
class="toc-section-number">18.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-16" id="toc-장-마무리-요약-16"><span
class="toc-section-number">18.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-16" id="toc-퀴즈-5문항-16"><span
class="toc-section-number">18.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-16" id="toc-정답-및-해설-16"><span
class="toc-section-number">18.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-16" id="toc-실습-과제-16"><span
class="toc-section-number">18.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-16"
id="toc-실습-정답-코드-또는-해설-16"><span
class="toc-section-number">18.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-16"
id="toc-실무에서-바로-쓰는-체크리스트-16"><span
class="toc-section-number">18.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-18.-성능-최적화-renderrebuild메모리이미지"
id="toc-chapter-18.-성능-최적화-renderrebuild메모리이미지"><span
class="toc-section-number">19</span> Chapter 18. 성능 최적화:
Render/Rebuild/메모리/이미지</a>
<ul>
<li><a href="#왜-필요한가-17" id="toc-왜-필요한가-17"><span
class="toc-section-number">19.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-17" id="toc-학습-목표-17"><span
class="toc-section-number">19.2</span> 학습 목표</a></li>
<li><a href="#사전지식-17" id="toc-사전지식-17"><span
class="toc-section-number">19.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-17" id="toc-핵심-개념-설명-17"><span
class="toc-section-number">19.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-17" id="toc-개념-정의-17"><span
class="toc-section-number">19.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-17" id="toc-동작-원리-17"><span
class="toc-section-number">19.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-17" id="toc-실무-적용-절차-17"><span
class="toc-section-number">19.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-17"
id="toc-프로젝트-적용-포인트-17"><span
class="toc-section-number">19.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-17" id="toc-실무-예제-코드-17"><span
class="toc-section-number">19.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-17"
id="toc-예제-1-현재-장-핵심-패턴-17"><span
class="toc-section-number">19.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-17"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-17"><span
class="toc-section-number">19.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-17"
id="toc-나쁜-예-vs-좋은-예-17"><span
class="toc-section-number">19.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-17" id="toc-디버깅-포인트-17"><span
class="toc-section-number">19.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-17"
id="toc-성능보안유지보수-체크포인트-17"><span
class="toc-section-number">19.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-17" id="toc-장-마무리-요약-17"><span
class="toc-section-number">19.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-17" id="toc-퀴즈-5문항-17"><span
class="toc-section-number">19.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-17" id="toc-정답-및-해설-17"><span
class="toc-section-number">19.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-17" id="toc-실습-과제-17"><span
class="toc-section-number">19.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-17"
id="toc-실습-정답-코드-또는-해설-17"><span
class="toc-section-number">19.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-17"
id="toc-실무에서-바로-쓰는-체크리스트-17"><span
class="toc-section-number">19.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#chapter-19.-유지보수-전략-리팩터링코드리뷰기술부채"
id="toc-chapter-19.-유지보수-전략-리팩터링코드리뷰기술부채"><span
class="toc-section-number">20</span> Chapter 19. 유지보수 전략:
리팩터링/코드리뷰/기술부채</a>
<ul>
<li><a href="#왜-필요한가-18" id="toc-왜-필요한가-18"><span
class="toc-section-number">20.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-18" id="toc-학습-목표-18"><span
class="toc-section-number">20.2</span> 학습 목표</a></li>
<li><a href="#사전지식-18" id="toc-사전지식-18"><span
class="toc-section-number">20.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-18" id="toc-핵심-개념-설명-18"><span
class="toc-section-number">20.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-18" id="toc-개념-정의-18"><span
class="toc-section-number">20.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-18" id="toc-동작-원리-18"><span
class="toc-section-number">20.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-18" id="toc-실무-적용-절차-18"><span
class="toc-section-number">20.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-18"
id="toc-프로젝트-적용-포인트-18"><span
class="toc-section-number">20.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-18" id="toc-실무-예제-코드-18"><span
class="toc-section-number">20.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-18"
id="toc-예제-1-현재-장-핵심-패턴-18"><span
class="toc-section-number">20.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-18"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-18"><span
class="toc-section-number">20.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-18"
id="toc-나쁜-예-vs-좋은-예-18"><span
class="toc-section-number">20.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-18" id="toc-디버깅-포인트-18"><span
class="toc-section-number">20.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-18"
id="toc-성능보안유지보수-체크포인트-18"><span
class="toc-section-number">20.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-18" id="toc-장-마무리-요약-18"><span
class="toc-section-number">20.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-18" id="toc-퀴즈-5문항-18"><span
class="toc-section-number">20.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-18" id="toc-정답-및-해설-18"><span
class="toc-section-number">20.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-18" id="toc-실습-과제-18"><span
class="toc-section-number">20.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-18"
id="toc-실습-정답-코드-또는-해설-18"><span
class="toc-section-number">20.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-18"
id="toc-실무에서-바로-쓰는-체크리스트-18"><span
class="toc-section-number">20.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a
href="#chapter-20.-실전-프로젝트-적용-ourmatchwellflutter-개선-로드맵"
id="toc-chapter-20.-실전-프로젝트-적용-ourmatchwellflutter-개선-로드맵"><span
class="toc-section-number">21</span> Chapter 20. 실전 프로젝트 적용:
OurMatchWellFlutter 개선 로드맵</a>
<ul>
<li><a href="#왜-필요한가-19" id="toc-왜-필요한가-19"><span
class="toc-section-number">21.1</span> 왜 필요한가</a></li>
<li><a href="#학습-목표-19" id="toc-학습-목표-19"><span
class="toc-section-number">21.2</span> 학습 목표</a></li>
<li><a href="#사전지식-19" id="toc-사전지식-19"><span
class="toc-section-number">21.3</span> 사전지식</a></li>
<li><a href="#핵심-개념-설명-19" id="toc-핵심-개념-설명-19"><span
class="toc-section-number">21.4</span> 핵심 개념 설명</a>
<ul>
<li><a href="#개념-정의-19" id="toc-개념-정의-19"><span
class="toc-section-number">21.4.1</span> 1) 개념 정의</a></li>
<li><a href="#동작-원리-19" id="toc-동작-원리-19"><span
class="toc-section-number">21.4.2</span> 2) 동작 원리</a></li>
<li><a href="#실무-적용-절차-19" id="toc-실무-적용-절차-19"><span
class="toc-section-number">21.4.3</span> 3) 실무 적용 절차</a></li>
<li><a href="#프로젝트-적용-포인트-19"
id="toc-프로젝트-적용-포인트-19"><span
class="toc-section-number">21.4.4</span> 4) 프로젝트 적용
포인트</a></li>
</ul></li>
<li><a href="#실무-예제-코드-19" id="toc-실무-예제-코드-19"><span
class="toc-section-number">21.5</span> 실무 예제 코드</a>
<ul>
<li><a href="#예제-1-현재-장-핵심-패턴-19"
id="toc-예제-1-현재-장-핵심-패턴-19"><span
class="toc-section-number">21.5.1</span> 예제 1: 현재 장 핵심
패턴</a></li>
<li><a href="#예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-19"
id="toc-예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-19"><span
class="toc-section-number">21.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</a></li>
</ul></li>
<li><a href="#나쁜-예-vs-좋은-예-19"
id="toc-나쁜-예-vs-좋은-예-19"><span
class="toc-section-number">21.6</span> 나쁜 예 vs 좋은 예</a></li>
<li><a href="#디버깅-포인트-19" id="toc-디버깅-포인트-19"><span
class="toc-section-number">21.7</span> 디버깅 포인트</a></li>
<li><a href="#성능보안유지보수-체크포인트-19"
id="toc-성능보안유지보수-체크포인트-19"><span
class="toc-section-number">21.8</span> 성능/보안/유지보수
체크포인트</a></li>
<li><a href="#장-마무리-요약-19" id="toc-장-마무리-요약-19"><span
class="toc-section-number">21.9</span> 장 마무리 요약</a></li>
<li><a href="#퀴즈-5문항-19" id="toc-퀴즈-5문항-19"><span
class="toc-section-number">21.10</span> 퀴즈 5문항</a>
<ul>
<li><a href="#정답-및-해설-19" id="toc-정답-및-해설-19"><span
class="toc-section-number">21.10.1</span> 정답 및 해설</a></li>
</ul></li>
<li><a href="#실습-과제-19" id="toc-실습-과제-19"><span
class="toc-section-number">21.11</span> 실습 과제</a></li>
<li><a href="#실습-정답-코드-또는-해설-19"
id="toc-실습-정답-코드-또는-해설-19"><span
class="toc-section-number">21.12</span> 실습 정답 코드 또는
해설</a></li>
<li><a href="#실무에서-바로-쓰는-체크리스트-19"
id="toc-실무에서-바로-쓰는-체크리스트-19"><span
class="toc-section-number">21.13</span> 실무에서 바로 쓰는
체크리스트</a></li>
</ul></li>
<li><a href="#실습-종합-로드맵-12개-이상-요구-충족"
id="toc-실습-종합-로드맵-12개-이상-요구-충족"><span
class="toc-section-number">22</span> 실습 종합 로드맵 (12개 이상 요구
충족)</a></li>
<li><a href="#용어집-glossary-90개" id="toc-용어집-glossary-90개"><span
class="toc-section-number">23</span> 용어집 (Glossary, 90개)</a></li>
<li><a href="#부록-a.-프로젝트-맞춤-운영-규칙"
id="toc-부록-a.-프로젝트-맞춤-운영-규칙"><span
class="toc-section-number">24</span> 부록 A. 프로젝트 맞춤 운영
규칙</a></li>
<li><a href="#부록-b.-7일-학습-운영표-예시"
id="toc-부록-b.-7일-학습-운영표-예시"><span
class="toc-section-number">25</span> 부록 B. 7일 학습 운영표
(예시)</a></li>
<li><a href="#부록-c.-초보가-자주-하는-실수-50선과-즉시-해결법"
id="toc-부록-c.-초보가-자주-하는-실수-50선과-즉시-해결법"><span
class="toc-section-number">26</span> 부록 C. 초보가 자주 하는 실수
50선과 즉시 해결법</a></li>
<li><a href="#마무리" id="toc-마무리"><span
class="toc-section-number">27</span> 마무리</a></li>
<li><a href="#부록-d.-출시-전후-실전-운영-시나리오-30선"
id="toc-부록-d.-출시-전후-실전-운영-시나리오-30선"><span
class="toc-section-number">28</span> 부록 D. 출시 전/후 실전 운영
시나리오 30선</a>
<ul>
<li><a href="#d-1.-빌드배포-시나리오-10선"
id="toc-d-1.-빌드배포-시나리오-10선"><span
class="toc-section-number">28.1</span> D-1. 빌드/배포 시나리오
10선</a></li>
<li><a href="#d-2.-광고정책-시나리오-10선"
id="toc-d-2.-광고정책-시나리오-10선"><span
class="toc-section-number">28.2</span> D-2. 광고/정책 시나리오
10선</a></li>
<li><a href="#d-3.-상태데이터-시나리오-10선"
id="toc-d-3.-상태데이터-시나리오-10선"><span
class="toc-section-number">28.3</span> D-3. 상태/데이터 시나리오
10선</a></li>
<li><a href="#d-4.-상황별-대응-플레이북-상세"
id="toc-d-4.-상황별-대응-플레이북-상세"><span
class="toc-section-number">28.4</span> D-4. 상황별 대응 플레이북
(상세)</a>
<ul>
<li><a href="#플레이북-1-앱은-켜지는데-홈이-비어-있음"
id="toc-플레이북-1-앱은-켜지는데-홈이-비어-있음"><span
class="toc-section-number">28.4.1</span> 플레이북 1: “앱은 켜지는데 홈이
비어 있음”</a></li>
<li><a href="#플레이북-2-탭-전환-시-이전-상태가-이상함"
id="toc-플레이북-2-탭-전환-시-이전-상태가-이상함"><span
class="toc-section-number">28.4.2</span> 플레이북 2: “탭 전환 시 이전
상태가 이상함”</a></li>
<li><a href="#플레이북-3-설정-화면에서-동의-상태가-unknown으로-고정"
id="toc-플레이북-3-설정-화면에서-동의-상태가-unknown으로-고정"><span
class="toc-section-number">28.4.3</span> 플레이북 3: “설정 화면에서 동의
상태가 Unknown으로 고정”</a></li>
<li><a href="#플레이북-4-스토어-심사-직전-최종-점검-순서"
id="toc-플레이북-4-스토어-심사-직전-최종-점검-순서"><span
class="toc-section-number">28.4.4</span> 플레이북 4: “스토어 심사 직전
최종 점검 순서”</a></li>
<li><a href="#플레이북-5-핫픽스가-필요한-치명적-버그-발생"
id="toc-플레이북-5-핫픽스가-필요한-치명적-버그-발생"><span
class="toc-section-number">28.4.5</span> 플레이북 5: “핫픽스가 필요한
치명적 버그 발생”</a></li>
</ul></li>
<li><a href="#d-5.-유지보수-체크시트-인쇄용"
id="toc-d-5.-유지보수-체크시트-인쇄용"><span
class="toc-section-number">28.5</span> D-5. 유지보수 체크시트
(인쇄용)</a>
<ul>
<li><a href="#주간-체크시트" id="toc-주간-체크시트"><span
class="toc-section-number">28.5.1</span> 주간 체크시트</a></li>
<li><a href="#월간-체크시트" id="toc-월간-체크시트"><span
class="toc-section-number">28.5.2</span> 월간 체크시트</a></li>
<li><a href="#분기-체크시트" id="toc-분기-체크시트"><span
class="toc-section-number">28.5.3</span> 분기 체크시트</a></li>
</ul></li>
<li><a href="#d-6.-11-코칭-질문-템플릿"
id="toc-d-6.-11-코칭-질문-템플릿"><span
class="toc-section-number">28.6</span> D-6. 1:1 코칭 질문
템플릿</a></li>
</ul></li>
</ul>
</nav>
<h1 data-number="1"
id="flutter-foundations-masterclass-korean-edition"><span
class="header-section-number">1</span> Flutter Foundations Masterclass
(Korean Edition)</h1>
<ul>
<li>작성일: 2026-02-20</li>
<li>대상 프로젝트: /Users/jaebinchoi/Desktop/OurMatchWellFlutter</li>
<li>대상 독자: Flutter 초심자(바이브코딩 중심)</li>
<li>목표: 혼자 유지보수 가능한 Flutter 개발자 수준 도달</li>
</ul>
<hr />
<h2 data-number="1.1" id="이-교재를-읽는-방법"><span
class="header-section-number">1.1</span> 이 교재를 읽는 방법</h2>
<p>이 교재는 다음 순서를 엄격하게 따릅니다.</p>
<ol type="1">
<li><strong>개념(What)</strong>: 용어와 기본 의미를 이해합니다.</li>
<li><strong>원리(Why)</strong>: 내부 동작 원리와 설계 이유를
이해합니다.</li>
<li><strong>실무 적용(How)</strong>: 실제 코드로 적용하는 방법을
학습합니다.</li>
<li><strong>프로젝트 적용(Apply)</strong>: OurMatchWellFlutter 코드에
직접 매핑합니다.</li>
</ol>
<p>학습 중 모든 예제는 아래 검증 루틴을 기준으로 확인하세요.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<hr />
<h2 data-number="1.2" id="프로젝트-구조-스캔-요약-실제-레포-기준"><span
class="header-section-number">1.2</span> 프로젝트 구조 스캔 요약 (실제
레포 기준)</h2>
<h3 data-number="1.2.1" id="상위-디렉터리-요약"><span
class="header-section-number">1.2.1</span> 상위 디렉터리 요약</h3>
<table>
<thead>
<tr>
<th>경로</th>
<th>역할</th>
<th>유지보수 중요도</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pubspec.yaml</code></td>
<td>패키지/SDK/자산/버전 정의</td>
<td>매우 높음</td>
</tr>
<tr>
<td><code>lib/app/</code></td>
<td>앱 진입, 라우팅, 테마, 부트스트랩</td>
<td>매우 높음</td>
</tr>
<tr>
<td><code>lib/core/</code></td>
<td>광고, 동의, 저장소, 콘텐츠 인프라</td>
<td>매우 높음</td>
</tr>
<tr>
<td><code>lib/domain/</code></td>
<td>모델/유스케이스</td>
<td>높음</td>
</tr>
<tr>
<td><code>lib/features/</code></td>
<td>화면/상태/UX</td>
<td>매우 높음</td>
</tr>
<tr>
<td><code>lib/ui_components/</code></td>
<td>재사용 UI</td>
<td>높음</td>
</tr>
<tr>
<td><code>android/</code></td>
<td>Android 빌드/권한/서명/Manifest</td>
<td>매우 높음</td>
</tr>
<tr>
<td><code>ios/</code></td>
<td>iOS 번들/Info.plist/아이콘</td>
<td>높음</td>
</tr>
<tr>
<td><code>.github/workflows/</code></td>
<td>CI/CD 자동화</td>
<td>높음</td>
</tr>
<tr>
<td><code>docs/</code></td>
<td>출시 문서/정책 문서</td>
<td>중간</td>
</tr>
</tbody>
</table>
<h3 data-number="1.2.2" id="현재-기술-스택-분석"><span
class="header-section-number">1.2.2</span> 현재 기술 스택 분석</h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>현재 구성</th>
</tr>
</thead>
<tbody>
<tr>
<td>상태관리</td>
<td>Riverpod (<code>flutter_riverpod</code>)</td>
</tr>
<tr>
<td>라우팅</td>
<td>go_router</td>
</tr>
<tr>
<td>광고</td>
<td>AdMob 배너 (<code>google_mobile_ads</code>)</td>
</tr>
<tr>
<td>동의</td>
<td>UMP 네이티브 채널 + ConsentState</td>
</tr>
<tr>
<td>로컬 저장소</td>
<td>shared_preferences</td>
</tr>
<tr>
<td>테스트</td>
<td>flutter_test + 위젯/도메인 스모크</td>
</tr>
<tr>
<td>빌드 배포</td>
<td>GitHub Actions (CI + Play Internal CD)</td>
</tr>
</tbody>
</table>
<h3 data-number="1.2.3" id="런타임-흐름-개요"><span
class="header-section-number">1.2.3</span> 런타임 흐름 개요</h3>
<pre class="mermaid"><code>flowchart TD
  A[main.dart] --&gt; B[startup bootstrap]
  B --&gt; C[ProviderScope override sharedPreferences]
  C --&gt; D[App]
  D --&gt; E[MaterialApp.router]
  E --&gt; F[GoRouter redirect onboarding]
  E --&gt; G[AdsBootstrapper]
  G --&gt; H[Consent gather]
  H --&gt; I[canRequestAds true]
  I --&gt; J[MobileAds initialize]</code></pre>
<h3 data-number="1.2.4" id="레이어-아키텍처-개요"><span
class="header-section-number">1.2.4</span> 레이어 아키텍처 개요</h3>
<pre class="mermaid"><code>flowchart LR
  UI[features/ui_components] --&gt; APP[app]
  UI --&gt; DOMAIN[domain]
  UI --&gt; CORE[core providers]
  DOMAIN --&gt; CORE
  CORE --&gt; INFRA[persistence/content/ads]
  INFRA --&gt; PLATFORM[Android iOS Native]</code></pre>
<h3 data-number="1.2.5"
id="이-프로젝트에서-초보가-먼저-건드려도-안전한-파일"><span
class="header-section-number">1.2.5</span> 이 프로젝트에서 초보가 먼저
건드려도 안전한 파일</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>파일</th>
<th>이유</th>
<th>권장 작업</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/features/today/today_view.dart</code></td>
<td>UI 텍스트/배치 중심</td>
<td>문구 수정, 카드 라벨 개선</td>
</tr>
<tr>
<td><code>lib/features/explore/explore_view.dart</code></td>
<td>필터/검색 구조가 비교적 단순</td>
<td>검색 조건 확장</td>
</tr>
<tr>
<td><code>lib/features/my_library/my_library_view.dart</code></td>
<td>세그먼트 UI와 빈 상태 관리가 명확</td>
<td>빈 상태 문구, 정렬 개선</td>
</tr>
<tr>
<td><code>lib/ui_components/app_surfaces.dart</code></td>
<td>공용 카드/배지 컴포넌트</td>
<td>스타일 일관성 개선</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>토큰 기반 테마 집중</td>
<td>색상/텍스트 테마 조정</td>
</tr>
</tbody>
</table>
<h3 data-number="1.2.6" id="건드리면-위험한-파일-주의"><span
class="header-section-number">1.2.6</span> 건드리면 위험한 파일
(주의)</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>파일</th>
<th>위험 이유</th>
<th>안전 수칙</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>android/app/build.gradle.kts</code></td>
<td>릴리즈 서명/AdMob App ID 검증 로직 포함</td>
<td>변경 전 백업 + 빌드 검증</td>
</tr>
<tr>
<td><code>android/app/src/main/AndroidManifest.xml</code></td>
<td>광고/네트워크 권한 및 메타데이터</td>
<td>권한 삭제 금지, placeholder 확인</td>
</tr>
<tr>
<td><code>lib/core/ads/consent/ump_consent_channel.dart</code></td>
<td>네이티브 채널 계약 불일치 시 런타임 오류</td>
<td>메서드명/파라미터 변경 금지</td>
</tr>
<tr>
<td><code>lib/core/persistence/preferences_store.dart</code></td>
<td>앱 데이터 포맷 저장소</td>
<td>키 변경 시 마이그레이션 필요</td>
</tr>
<tr>
<td><code>lib/app/router.dart</code></td>
<td>온보딩/탭 라우팅 핵심</td>
<td>redirect 조건 변경 시 회귀 테스트 필수</td>
</tr>
</tbody>
</table>
<h3 data-number="1.2.7" id="기능-추가-권장-작업-순서-체크리스트"><span
class="header-section-number">1.2.7</span> 기능 추가 권장 작업 순서
(체크리스트)</h3>
<ul class="task-list">
<li><label><input type="checkbox" />요구사항을 화면/상태/저장소/정책으로
분해한다.</label></li>
<li><label><input type="checkbox" /><code>domain</code>에
모델/유스케이스 변경 여부를 먼저 결정한다.</label></li>
<li><label><input type="checkbox" /><code>core</code>에서 데이터
소스/Provider 계약을 정의한다.</label></li>
<li><label><input type="checkbox" /><code>features</code>에서 UI를 최소
변경으로 연결한다.</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버를 상수나 토큰으로
이동한다.</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>,
<code>flutter test -j 1</code>를 통과한다.</label></li>
<li><label><input type="checkbox" />광고/정책/권한 회귀 체크를
수행한다.</label></li>
</ul>
<hr />
<h2 data-number="1.3" id="공통-검증-게이트"><span
class="header-section-number">1.3</span> 공통 검증 게이트</h2>
<p>모든 장 실습은 아래 품질 게이트를 통과해야 완료로 간주합니다.</p>
<table>
<thead>
<tr>
<th>게이트</th>
<th>통과 조건</th>
</tr>
</thead>
<tbody>
<tr>
<td>정적 분석</td>
<td><code>flutter analyze</code> 경고/오류 0</td>
</tr>
<tr>
<td>테스트</td>
<td><code>flutter test -j 1</code> 전부 통과</td>
</tr>
<tr>
<td>실행</td>
<td>에뮬레이터에서 크래시 없음</td>
</tr>
<tr>
<td>정책</td>
<td>동의 전 광고 요청 없음</td>
</tr>
<tr>
<td>유지보수</td>
<td>하드코딩/중복/매직넘버 제거</td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;">

</div>
<h1 data-number="2"
id="chapter-1.-flutter와-dart를-왜-배워야-하는가"><span
class="header-section-number">2</span> Chapter 1. Flutter와 Dart를 왜
배워야 하는가</h1>
<h2 data-number="2.1" id="왜-필요한가"><span
class="header-section-number">2.1</span> 왜 필요한가</h2>
<p>왜 Flutter + Dart가 유지보수 비용을 낮추는지 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(lib/main.dart)에서 어떤 결정이 품질을
좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="2.2" id="학습-목표"><span
class="header-section-number">2.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="2.3" id="사전지식"><span
class="header-section-number">2.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>lib/main.dart</code></li>
</ul>
<h2 data-number="2.4" id="핵심-개념-설명"><span
class="header-section-number">2.4</span> 핵심 개념 설명</h2>
<h3 data-number="2.4.1" id="개념-정의"><span
class="header-section-number">2.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: Flutter와 Dart를 왜 배워야 하는가
는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경 영향도를
줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="2.4.2" id="동작-원리"><span
class="header-section-number">2.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="2.4.3" id="실무-적용-절차"><span
class="header-section-number">2.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="2.4.4" id="프로젝트-적용-포인트"><span
class="header-section-number">2.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/main.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="2.5" id="실무-예제-코드"><span
class="header-section-number">2.5</span> 실무 예제 코드</h2>
<h3 data-number="2.5.1" id="예제-1-현재-장-핵심-패턴"><span
class="header-section-number">2.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 앱 진입점: 외부 의존성(SharedPreferences)을 주입한 뒤 App을 실행한다.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> main() <span class="at">async</span> <span class="op">{</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> prefs <span class="op">=</span> <span class="at">await</span> bootstrap();</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  runApp(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    ProviderScope(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      overrides<span class="op">:</span> [sharedPreferencesProvider<span class="op">.</span>overrideWithValue(prefs)]<span class="op">,</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      child<span class="op">:</span> <span class="at">const</span> App()<span class="op">,</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    )<span class="op">,</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  );</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="2.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿"><span
class="header-section-number">2.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="2.6" id="나쁜-예-vs-좋은-예"><span
class="header-section-number">2.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="2.7" id="디버깅-포인트"><span
class="header-section-number">2.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="2.8" id="성능보안유지보수-체크포인트"><span
class="header-section-number">2.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="2.9" id="장-마무리-요약"><span
class="header-section-number">2.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="2.10" id="퀴즈-5문항"><span
class="header-section-number">2.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="2.10.1" id="정답-및-해설"><span
class="header-section-number">2.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="2.11" id="실습-과제"><span
class="header-section-number">2.11</span> 실습 과제</h2>
<ul>
<li>난이도: 초급</li>
<li>과제명: Flutter와 Dart를 왜 배워야 하는가 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/main.dart</code>)의 하드코딩 3개 이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="2.12" id="실습-정답-코드-또는-해설"><span
class="header-section-number">2.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb7"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="2.13" id="실무에서-바로-쓰는-체크리스트"><span
class="header-section-number">2.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="3"
id="chapter-2.-dart-핵심-문법-변수-null-safety-class-asyncawait"><span
class="header-section-number">3</span> Chapter 2. Dart 핵심 문법: 변수,
null-safety, class, async/await</h1>
<h2 data-number="3.1" id="왜-필요한가-1"><span
class="header-section-number">3.1</span> 왜 필요한가</h2>
<p>문법 실수로 인한 런타임 오류를 줄이는 법 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(lib/domain/models/sentence.dart)에서 어떤
결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="3.2" id="학습-목표-1"><span
class="header-section-number">3.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="3.3" id="사전지식-1"><span
class="header-section-number">3.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>lib/domain/models/sentence.dart</code></li>
</ul>
<h2 data-number="3.4" id="핵심-개념-설명-1"><span
class="header-section-number">3.4</span> 핵심 개념 설명</h2>
<h3 data-number="3.4.1" id="개념-정의-1"><span
class="header-section-number">3.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: Dart 핵심 문법: 변수,
null-safety, class, async/await 는 화면 구현과 비즈니스 로직 사이의
경계를 명확히 하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="3.4.2" id="동작-원리-1"><span
class="header-section-number">3.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="3.4.3" id="실무-적용-절차-1"><span
class="header-section-number">3.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="3.4.4" id="프로젝트-적용-포인트-1"><span
class="header-section-number">3.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/domain/models/sentence.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="3.5" id="실무-예제-코드-1"><span
class="header-section-number">3.5</span> 실무 예제 코드</h2>
<h3 data-number="3.5.1" id="예제-1-현재-장-핵심-패턴-1"><span
class="header-section-number">3.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// null-safe 모델 예시: 누락 값이 와도 기본값으로 안전하게 복구한다.</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ReviewState <span class="op">{</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">const</span> ReviewState(<span class="op">{</span>required <span class="kw">this</span><span class="op">.</span>dueAtEpochMs<span class="op">,</span> required <span class="kw">this</span><span class="op">.</span>intervalDays<span class="op">}</span>);</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> <span class="dt">int</span> dueAtEpochMs;</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> <span class="dt">int</span> intervalDays;</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">factory</span> ReviewState<span class="op">.</span>fromJson(<span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span> json) <span class="op">{</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> ReviewState(</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      dueAtEpochMs<span class="op">:</span> json[<span class="st">&#39;dueAtEpochMs&#39;</span>] <span class="kw">is</span> <span class="dt">int</span> <span class="op">?</span> json[<span class="st">&#39;dueAtEpochMs&#39;</span>] <span class="kw">as</span> <span class="dt">int</span> <span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>      intervalDays<span class="op">:</span> json[<span class="st">&#39;intervalDays&#39;</span>] <span class="kw">is</span> <span class="dt">int</span> <span class="op">?</span> json[<span class="st">&#39;intervalDays&#39;</span>] <span class="kw">as</span> <span class="dt">int</span> <span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    );</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="3.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-1"><span
class="header-section-number">3.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb9"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="3.6" id="나쁜-예-vs-좋은-예-1"><span
class="header-section-number">3.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="3.7" id="디버깅-포인트-1"><span
class="header-section-number">3.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="3.8" id="성능보안유지보수-체크포인트-1"><span
class="header-section-number">3.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="3.9" id="장-마무리-요약-1"><span
class="header-section-number">3.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="3.10" id="퀴즈-5문항-1"><span
class="header-section-number">3.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="3.10.1" id="정답-및-해설-1"><span
class="header-section-number">3.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="3.11" id="실습-과제-1"><span
class="header-section-number">3.11</span> 실습 과제</h2>
<ul>
<li>난이도: 초급</li>
<li>과제명: Dart 핵심 문법: 변수, null-safety, class, async/await
실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/domain/models/sentence.dart</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="3.12" id="실습-정답-코드-또는-해설-1"><span
class="header-section-number">3.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb11"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="3.13" id="실무에서-바로-쓰는-체크리스트-1"><span
class="header-section-number">3.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="4"
id="chapter-3.-widget-사고방식-everything-is-widget"><span
class="header-section-number">4</span> Chapter 3. Widget 사고방식:
Everything is Widget</h1>
<h2 data-number="4.1" id="왜-필요한가-2"><span
class="header-section-number">4.1</span> 왜 필요한가</h2>
<p>위젯 트리 사고방식으로 UI를 분해하는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/features/today/today_view.dart)에서 어떤 결정이
품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="4.2" id="학습-목표-2"><span
class="header-section-number">4.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="4.3" id="사전지식-2"><span
class="header-section-number">4.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/features/today/today_view.dart</code></li>
</ul>
<h2 data-number="4.4" id="핵심-개념-설명-2"><span
class="header-section-number">4.4</span> 핵심 개념 설명</h2>
<h3 data-number="4.4.1" id="개념-정의-2"><span
class="header-section-number">4.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: Widget 사고방식: Everything is
Widget 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경
영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="4.4.2" id="동작-원리-2"><span
class="header-section-number">4.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="4.4.3" id="실무-적용-절차-2"><span
class="header-section-number">4.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="4.4.4" id="프로젝트-적용-포인트-2"><span
class="header-section-number">4.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/features/today/today_view.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="4.5" id="실무-예제-코드-2"><span
class="header-section-number">4.5</span> 실무 예제 코드</h2>
<h3 data-number="4.5.1" id="예제-1-현재-장-핵심-패턴-2"><span
class="header-section-number">4.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 위젯을 작은 단위로 분해하면 재사용성과 테스트성이 올라간다.</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> CircleToolbarButton <span class="kw">extends</span> StatelessWidget <span class="op">{</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">const</span> CircleToolbarButton(<span class="op">{</span>required <span class="kw">this</span><span class="op">.</span>icon<span class="op">,</span> required <span class="kw">this</span><span class="op">.</span>onPressed<span class="op">,</span> <span class="kw">super</span><span class="op">.</span>key<span class="op">}</span>);</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> IconData icon;</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> VoidCallback onPressed;</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">@override</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  Widget build(BuildContext context) <span class="op">{</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> IconButton(onPressed<span class="op">:</span> onPressed<span class="op">,</span> icon<span class="op">:</span> Icon(icon));</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="4.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-2"><span
class="header-section-number">4.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb13"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="4.6" id="나쁜-예-vs-좋은-예-2"><span
class="header-section-number">4.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="4.7" id="디버깅-포인트-2"><span
class="header-section-number">4.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="4.8" id="성능보안유지보수-체크포인트-2"><span
class="header-section-number">4.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="4.9" id="장-마무리-요약-2"><span
class="header-section-number">4.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="4.10" id="퀴즈-5문항-2"><span
class="header-section-number">4.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="4.10.1" id="정답-및-해설-2"><span
class="header-section-number">4.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="4.11" id="실습-과제-2"><span
class="header-section-number">4.11</span> 실습 과제</h2>
<ul>
<li>난이도: 초급</li>
<li>과제명: Widget 사고방식: Everything is Widget 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/features/today/today_view.dart</code>)의 하드코딩 3개
이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="4.12" id="실습-정답-코드-또는-해설-2"><span
class="header-section-number">4.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb15"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="4.13" id="실무에서-바로-쓰는-체크리스트-2"><span
class="header-section-number">4.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="5"
id="chapter-4.-레이아웃-기초-rowcolumnstackflexexpandedpadding"><span
class="header-section-number">5</span> Chapter 4. 레이아웃 기초:
Row/Column/Stack/Flex/Expanded/Padding</h1>
<h2 data-number="5.1" id="왜-필요한가-3"><span
class="header-section-number">5.1</span> 왜 필요한가</h2>
<p>레이아웃 깨짐 없이 반응형 UI를 만드는 법 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(lib/features/explore/explore_view.dart)에서
어떤 결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="5.2" id="학습-목표-3"><span
class="header-section-number">5.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="5.3" id="사전지식-3"><span
class="header-section-number">5.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/features/explore/explore_view.dart</code></li>
</ul>
<h2 data-number="5.4" id="핵심-개념-설명-3"><span
class="header-section-number">5.4</span> 핵심 개념 설명</h2>
<h3 data-number="5.4.1" id="개념-정의-3"><span
class="header-section-number">5.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 레이아웃 기초:
Row/Column/Stack/Flex/Expanded/Padding 는 화면 구현과 비즈니스 로직
사이의 경계를 명확히 하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="5.4.2" id="동작-원리-3"><span
class="header-section-number">5.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="5.4.3" id="실무-적용-절차-3"><span
class="header-section-number">5.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="5.4.4" id="프로젝트-적용-포인트-3"><span
class="header-section-number">5.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/features/explore/explore_view.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="5.5" id="실무-예제-코드-3"><span
class="header-section-number">5.5</span> 실무 예제 코드</h2>
<h3 data-number="5.5.1" id="예제-1-현재-장-핵심-패턴-3"><span
class="header-section-number">5.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb16"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 반응형 레이아웃: Expanded와 SizedBox로 명시적 여백을 관리한다.</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>Row(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  children<span class="op">:</span> [</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    Expanded(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>      child<span class="op">:</span> Column(</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        crossAxisAlignment<span class="op">:</span> CrossAxisAlignment<span class="op">.</span>start<span class="op">,</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        children<span class="op">:</span> <span class="at">const</span> [Text(<span class="st">&#39;제목&#39;</span>)<span class="op">,</span> SizedBox(height<span class="op">:</span> <span class="dv">6</span>)<span class="op">,</span> Text(<span class="st">&#39;부제목&#39;</span>)]<span class="op">,</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    )<span class="op">,</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">const</span> SizedBox(width<span class="op">:</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">const</span> Icon(Icons<span class="op">.</span>chevron_right_rounded)<span class="op">,</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<h3 data-number="5.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-3"><span
class="header-section-number">5.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb17"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="5.6" id="나쁜-예-vs-좋은-예-3"><span
class="header-section-number">5.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="5.7" id="디버깅-포인트-3"><span
class="header-section-number">5.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="5.8" id="성능보안유지보수-체크포인트-3"><span
class="header-section-number">5.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="5.9" id="장-마무리-요약-3"><span
class="header-section-number">5.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="5.10" id="퀴즈-5문항-3"><span
class="header-section-number">5.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="5.10.1" id="정답-및-해설-3"><span
class="header-section-number">5.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="5.11" id="실습-과제-3"><span
class="header-section-number">5.11</span> 실습 과제</h2>
<ul>
<li>난이도: 초급</li>
<li>과제명: 레이아웃 기초: Row/Column/Stack/Flex/Expanded/Padding
실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/features/explore/explore_view.dart</code>)의 하드코딩 3개
이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="5.12" id="실습-정답-코드-또는-해설-3"><span
class="header-section-number">5.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb19"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="5.13" id="실무에서-바로-쓰는-체크리스트-3"><span
class="header-section-number">5.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="6"
id="chapter-5.-화면-구조-실전-scaffoldappbarbottomnavigationsafearea"><span
class="header-section-number">6</span> Chapter 5. 화면 구조 실전:
Scaffold/AppBar/BottomNavigation/SafeArea</h1>
<h2 data-number="6.1" id="왜-필요한가-4"><span
class="header-section-number">6.1</span> 왜 필요한가</h2>
<p>앱 골격을 안정적으로 유지하는 구조 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/app/shell.dart)에서 어떤 결정이 품질을
좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="6.2" id="학습-목표-4"><span
class="header-section-number">6.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="6.3" id="사전지식-4"><span
class="header-section-number">6.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>lib/app/shell.dart</code></li>
</ul>
<h2 data-number="6.4" id="핵심-개념-설명-4"><span
class="header-section-number">6.4</span> 핵심 개념 설명</h2>
<h3 data-number="6.4.1" id="개념-정의-4"><span
class="header-section-number">6.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 화면 구조 실전:
Scaffold/AppBar/BottomNavigation/SafeArea 는 화면 구현과 비즈니스 로직
사이의 경계를 명확히 하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="6.4.2" id="동작-원리-4"><span
class="header-section-number">6.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="6.4.3" id="실무-적용-절차-4"><span
class="header-section-number">6.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="6.4.4" id="프로젝트-적용-포인트-4"><span
class="header-section-number">6.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/app/shell.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="6.5" id="실무-예제-코드-4"><span
class="header-section-number">6.5</span> 실무 예제 코드</h2>
<h3 data-number="6.5.1" id="예제-1-현재-장-핵심-패턴-4"><span
class="header-section-number">6.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb20"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 화면 골격: Scaffold + SafeArea + ListView 조합은 모바일 기본 패턴이다.</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>Scaffold(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  body<span class="op">:</span> SafeArea(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    child<span class="op">:</span> ListView(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>      padding<span class="op">:</span> <span class="at">const</span> EdgeInsets<span class="op">.</span>all(<span class="dv">16</span>)<span class="op">,</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>      children<span class="op">:</span> <span class="at">const</span> [Text(<span class="st">&#39;헤더&#39;</span>)<span class="op">,</span> SizedBox(height<span class="op">:</span> <span class="dv">12</span>)<span class="op">,</span> Text(<span class="st">&#39;본문&#39;</span>)]<span class="op">,</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    )<span class="op">,</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  )<span class="op">,</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<h3 data-number="6.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-4"><span
class="header-section-number">6.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb21"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="6.6" id="나쁜-예-vs-좋은-예-4"><span
class="header-section-number">6.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="6.7" id="디버깅-포인트-4"><span
class="header-section-number">6.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="6.8" id="성능보안유지보수-체크포인트-4"><span
class="header-section-number">6.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="6.9" id="장-마무리-요약-4"><span
class="header-section-number">6.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="6.10" id="퀴즈-5문항-4"><span
class="header-section-number">6.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="6.10.1" id="정답-및-해설-4"><span
class="header-section-number">6.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="6.11" id="실습-과제-4"><span
class="header-section-number">6.11</span> 실습 과제</h2>
<ul>
<li>난이도: 초급</li>
<li>과제명: 화면 구조 실전: Scaffold/AppBar/BottomNavigation/SafeArea
실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/app/shell.dart</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="6.12" id="실습-정답-코드-또는-해설-4"><span
class="header-section-number">6.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb23"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="6.13" id="실무에서-바로-쓰는-체크리스트-4"><span
class="header-section-number">6.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="7" id="chapter-6.-상태관리-기초setstate와-한계"><span
class="header-section-number">7</span> Chapter 6. 상태관리
기초(setState)와 한계</h1>
<h2 data-number="7.1" id="왜-필요한가-5"><span
class="header-section-number">7.1</span> 왜 필요한가</h2>
<p>setState로 시작해 Riverpod로 확장하는 기준 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(lib/features/explore/explore_view.dart)에서
어떤 결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="7.2" id="학습-목표-5"><span
class="header-section-number">7.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="7.3" id="사전지식-5"><span
class="header-section-number">7.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/features/explore/explore_view.dart</code></li>
</ul>
<h2 data-number="7.4" id="핵심-개념-설명-5"><span
class="header-section-number">7.4</span> 핵심 개념 설명</h2>
<h3 data-number="7.4.1" id="개념-정의-5"><span
class="header-section-number">7.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 상태관리 기초(setState)와 한계 는
화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경 영향도를
줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="7.4.2" id="동작-원리-5"><span
class="header-section-number">7.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="7.4.3" id="실무-적용-절차-5"><span
class="header-section-number">7.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="7.4.4" id="프로젝트-적용-포인트-5"><span
class="header-section-number">7.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/features/explore/explore_view.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="7.5" id="실무-예제-코드-5"><span
class="header-section-number">7.5</span> 실무 예제 코드</h2>
<h3 data-number="7.5.1" id="예제-1-현재-장-핵심-패턴-5"><span
class="header-section-number">7.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb24"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> CounterView <span class="kw">extends</span> StatefulWidget <span class="op">{</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">const</span> CounterView(<span class="op">{</span><span class="kw">super</span><span class="op">.</span>key<span class="op">}</span>);</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">@override</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  State<span class="op">&lt;</span>CounterView<span class="op">&gt;</span> createState() <span class="op">=&gt;</span> _CounterViewState();</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> _CounterViewState <span class="kw">extends</span> State<span class="op">&lt;</span>CounterView<span class="op">&gt;</span> <span class="op">{</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">int</span> _count <span class="op">=</span> <span class="dv">0</span>;</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// 버튼 탭 카운트를 증가시킨다.</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">void</span> _increment() <span class="op">=&gt;</span> setState(() <span class="op">=&gt;</span> _count <span class="op">+=</span> <span class="dv">1</span>);</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">@override</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  Widget build(BuildContext context) <span class="op">{</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> TextButton(onPressed<span class="op">:</span> _increment<span class="op">,</span> child<span class="op">:</span> Text(<span class="st">&#39;$_count&#39;</span>));</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="7.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-5"><span
class="header-section-number">7.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb25"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="7.6" id="나쁜-예-vs-좋은-예-5"><span
class="header-section-number">7.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="7.7" id="디버깅-포인트-5"><span
class="header-section-number">7.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="7.8" id="성능보안유지보수-체크포인트-5"><span
class="header-section-number">7.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="7.9" id="장-마무리-요약-5"><span
class="header-section-number">7.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="7.10" id="퀴즈-5문항-5"><span
class="header-section-number">7.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="7.10.1" id="정답-및-해설-5"><span
class="header-section-number">7.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="7.11" id="실습-과제-5"><span
class="header-section-number">7.11</span> 실습 과제</h2>
<ul>
<li>난이도: 초급</li>
<li>과제명: 상태관리 기초(setState)와 한계 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/features/explore/explore_view.dart</code>)의 하드코딩 3개
이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="7.12" id="실습-정답-코드-또는-해설-5"><span
class="header-section-number">7.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb27"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="7.13" id="실무에서-바로-쓰는-체크리스트-5"><span
class="header-section-number">7.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="8"
id="chapter-7.-riverpod-핵심-providernotifierdi"><span
class="header-section-number">8</span> Chapter 7. Riverpod 핵심:
Provider/Notifier/DI</h1>
<h2 data-number="8.1" id="왜-필요한가-6"><span
class="header-section-number">8.1</span> 왜 필요한가</h2>
<p>의존성 주입과 테스트 가능한 상태관리 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/features/today/today_controller.dart)에서 어떤
결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="8.2" id="학습-목표-6"><span
class="header-section-number">8.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="8.3" id="사전지식-6"><span
class="header-section-number">8.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/features/today/today_controller.dart</code></li>
</ul>
<h2 data-number="8.4" id="핵심-개념-설명-6"><span
class="header-section-number">8.4</span> 핵심 개념 설명</h2>
<h3 data-number="8.4.1" id="개념-정의-6"><span
class="header-section-number">8.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: Riverpod 핵심:
Provider/Notifier/DI 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히
하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="8.4.2" id="동작-원리-6"><span
class="header-section-number">8.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="8.4.3" id="실무-적용-절차-6"><span
class="header-section-number">8.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="8.4.4" id="프로젝트-적용-포인트-6"><span
class="header-section-number">8.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/features/today/today_controller.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>flowchart TD
  A[UI Widget] --&gt; B[ref.watch(provider)]
  B --&gt; C[Notifier/State]
  C --&gt; D[Repository]
  D --&gt; E[Store/Cache]
  E --&gt; C</code></pre>
<h2 data-number="8.5" id="실무-예제-코드-6"><span
class="header-section-number">8.5</span> 실무 예제 코드</h2>
<h3 data-number="8.5.1" id="예제-1-현재-장-핵심-패턴-6"><span
class="header-section-number">8.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb29"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="at">final</span> todayPackUseCaseProvider <span class="op">=</span> Provider<span class="op">&lt;</span>TodayPackUseCase<span class="op">&gt;</span>((ref) <span class="op">{</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> repo <span class="op">=</span> ref<span class="op">.</span>watch(contentRepositoryProvider);</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> prefs <span class="op">=</span> ref<span class="op">.</span>watch(preferencesStoreProvider);</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> TodayPackUseCase(repo<span class="op">:</span> repo<span class="op">,</span> prefs<span class="op">:</span> prefs);</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>);</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">/// today 화면에서 선택한 포커스 태그 상태를 제공한다.</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="at">final</span> todayFocusProvider <span class="op">=</span> StateProvider<span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;</span>((ref) <span class="op">=&gt;</span> <span class="st">&#39;date&#39;</span>);</span></code></pre></div>
<h3 data-number="8.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-6"><span
class="header-section-number">8.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb30"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="8.6" id="나쁜-예-vs-좋은-예-6"><span
class="header-section-number">8.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="8.7" id="디버깅-포인트-6"><span
class="header-section-number">8.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="8.8" id="성능보안유지보수-체크포인트-6"><span
class="header-section-number">8.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="8.9" id="장-마무리-요약-6"><span
class="header-section-number">8.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="8.10" id="퀴즈-5문항-6"><span
class="header-section-number">8.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="8.10.1" id="정답-및-해설-6"><span
class="header-section-number">8.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="8.11" id="실습-과제-6"><span
class="header-section-number">8.11</span> 실습 과제</h2>
<ul>
<li>난이도: 중급</li>
<li>과제명: Riverpod 핵심: Provider/Notifier/DI 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/features/today/today_controller.dart</code>)의 하드코딩
3개 이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="8.12" id="실습-정답-코드-또는-해설-6"><span
class="header-section-number">8.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb32"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="8.13" id="실무에서-바로-쓰는-체크리스트-6"><span
class="header-section-number">8.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="9" id="chapter-8.-라우팅go_router-구조와-딥링크"><span
class="header-section-number">9</span> Chapter 8. 라우팅(go_router)
구조와 딥링크</h1>
<h2 data-number="9.1" id="왜-필요한가-7"><span
class="header-section-number">9.1</span> 왜 필요한가</h2>
<p>URL 기반 화면 이동과 리다이렉트 설계 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/app/router.dart)에서 어떤 결정이 품질을
좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="9.2" id="학습-목표-7"><span
class="header-section-number">9.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="9.3" id="사전지식-7"><span
class="header-section-number">9.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>lib/app/router.dart</code></li>
</ul>
<h2 data-number="9.4" id="핵심-개념-설명-7"><span
class="header-section-number">9.4</span> 핵심 개념 설명</h2>
<h3 data-number="9.4.1" id="개념-정의-7"><span
class="header-section-number">9.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 라우팅(go_router) 구조와 딥링크
는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경 영향도를
줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="9.4.2" id="동작-원리-7"><span
class="header-section-number">9.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="9.4.3" id="실무-적용-절차-7"><span
class="header-section-number">9.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="9.4.4" id="프로젝트-적용-포인트-7"><span
class="header-section-number">9.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/app/router.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>flowchart LR
  O[/onboarding] --&gt; T[/today]
  T --&gt; E[/explore]
  T --&gt; M[/my]
  M --&gt; S[/my/settings]
  T --&gt; SD[/sentence/:id]</code></pre>
<h2 data-number="9.5" id="실무-예제-코드-7"><span
class="header-section-number">9.5</span> 실무 예제 코드</h2>
<h3 data-number="9.5.1" id="예제-1-현재-장-핵심-패턴-7"><span
class="header-section-number">9.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb34"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="at">final</span> routerProvider <span class="op">=</span> Provider<span class="op">&lt;</span>GoRouter<span class="op">&gt;</span>((ref) <span class="op">{</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> prefs <span class="op">=</span> ref<span class="op">.</span>read(preferencesStoreProvider);</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> GoRouter(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    initialLocation<span class="op">:</span> <span class="st">&#39;/onboarding&#39;</span><span class="op">,</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    refreshListenable<span class="op">:</span> prefs<span class="op">,</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    redirect<span class="op">:</span> (context<span class="op">,</span> state) <span class="op">{</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">final</span> onboardingCompleted <span class="op">=</span> prefs<span class="op">.</span>onboardingCompleted;</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">final</span> isOnboarding <span class="op">=</span> state<span class="op">.</span>matchedLocation <span class="op">==</span> <span class="st">&#39;/onboarding&#39;</span>;</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>onboardingCompleted <span class="op">&amp;&amp;</span> <span class="op">!</span>isOnboarding) <span class="kw">return</span> <span class="st">&#39;/onboarding&#39;</span>;</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (onboardingCompleted <span class="op">&amp;&amp;</span> isOnboarding) <span class="kw">return</span> <span class="st">&#39;/today&#39;</span>;</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>      <span class="kw">return</span> <span class="cn">null</span>;</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  );</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>);</span></code></pre></div>
<h3 data-number="9.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-7"><span
class="header-section-number">9.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb35"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="9.6" id="나쁜-예-vs-좋은-예-7"><span
class="header-section-number">9.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="9.7" id="디버깅-포인트-7"><span
class="header-section-number">9.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="9.8" id="성능보안유지보수-체크포인트-7"><span
class="header-section-number">9.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="9.9" id="장-마무리-요약-7"><span
class="header-section-number">9.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="9.10" id="퀴즈-5문항-7"><span
class="header-section-number">9.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="9.10.1" id="정답-및-해설-7"><span
class="header-section-number">9.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="9.11" id="실습-과제-7"><span
class="header-section-number">9.11</span> 실습 과제</h2>
<ul>
<li>난이도: 중급</li>
<li>과제명: 라우팅(go_router) 구조와 딥링크 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/app/router.dart</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb36"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="9.12" id="실습-정답-코드-또는-해설-7"><span
class="header-section-number">9.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb37"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="9.13" id="실무에서-바로-쓰는-체크리스트-7"><span
class="header-section-number">9.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="10"
id="chapter-9.-앱-테마-themedata-colorscheme-texttheme"><span
class="header-section-number">10</span> Chapter 9. 앱 테마: ThemeData,
ColorScheme, TextTheme</h1>
<h2 data-number="10.1" id="왜-필요한가-8"><span
class="header-section-number">10.1</span> 왜 필요한가</h2>
<p>디자인 시스템으로 UI 일관성을 만드는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/app/theme.dart)에서 어떤 결정이 품질을
좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="10.2" id="학습-목표-8"><span
class="header-section-number">10.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="10.3" id="사전지식-8"><span
class="header-section-number">10.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>lib/app/theme.dart</code></li>
</ul>
<h2 data-number="10.4" id="핵심-개념-설명-8"><span
class="header-section-number">10.4</span> 핵심 개념 설명</h2>
<h3 data-number="10.4.1" id="개념-정의-8"><span
class="header-section-number">10.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 앱 테마: ThemeData, ColorScheme,
TextTheme 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경
영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="10.4.2" id="동작-원리-8"><span
class="header-section-number">10.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="10.4.3" id="실무-적용-절차-8"><span
class="header-section-number">10.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="10.4.4" id="프로젝트-적용-포인트-8"><span
class="header-section-number">10.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="10.5" id="실무-예제-코드-8"><span
class="header-section-number">10.5</span> 실무 예제 코드</h2>
<h3 data-number="10.5.1" id="예제-1-현재-장-핵심-패턴-8"><span
class="header-section-number">10.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb38"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>ThemeData buildAppTheme() <span class="op">{</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> base <span class="op">=</span> ThemeData(useMaterial3<span class="op">:</span> <span class="cn">true</span>);</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> base<span class="op">.</span>copyWith(</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    scaffoldBackgroundColor<span class="op">:</span> <span class="at">const</span> Color(<span class="dv">0xFFF8FAFC</span>)<span class="op">,</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    textTheme<span class="op">:</span> base<span class="op">.</span>textTheme<span class="op">.</span>copyWith(</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>      headlineLarge<span class="op">:</span> <span class="at">const</span> TextStyle(fontSize<span class="op">:</span> <span class="dv">30</span><span class="op">,</span> fontWeight<span class="op">:</span> FontWeight<span class="op">.</span>w800)<span class="op">,</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>      bodyMedium<span class="op">:</span> <span class="at">const</span> TextStyle(fontSize<span class="op">:</span> <span class="dv">15</span><span class="op">,</span> height<span class="op">:</span> <span class="fl">1.4</span>)<span class="op">,</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    )<span class="op">,</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  );</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="10.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-8"><span
class="header-section-number">10.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb39"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="10.6" id="나쁜-예-vs-좋은-예-8"><span
class="header-section-number">10.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="10.7" id="디버깅-포인트-8"><span
class="header-section-number">10.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="10.8" id="성능보안유지보수-체크포인트-8"><span
class="header-section-number">10.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="10.9" id="장-마무리-요약-8"><span
class="header-section-number">10.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="10.10" id="퀴즈-5문항-8"><span
class="header-section-number">10.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="10.10.1" id="정답-및-해설-8"><span
class="header-section-number">10.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="10.11" id="실습-과제-8"><span
class="header-section-number">10.11</span> 실습 과제</h2>
<ul>
<li>난이도: 중급</li>
<li>과제명: 앱 테마: ThemeData, ColorScheme, TextTheme 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/app/theme.dart</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb40"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="10.12" id="실습-정답-코드-또는-해설-8"><span
class="header-section-number">10.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb41"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="10.13" id="실무에서-바로-쓰는-체크리스트-8"><span
class="header-section-number">10.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="11" id="chapter-10.-비동기네트워크json에러-처리"><span
class="header-section-number">11</span> Chapter 10.
비동기/네트워크/JSON/에러 처리</h1>
<h2 data-number="11.1" id="왜-필요한가-9"><span
class="header-section-number">11.1</span> 왜 필요한가</h2>
<p>비동기 상태와 실패 복구를 제어하는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/core/content/content_store.dart)에서 어떤 결정이
품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="11.2" id="학습-목표-9"><span
class="header-section-number">11.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="11.3" id="사전지식-9"><span
class="header-section-number">11.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/core/content/content_store.dart</code></li>
</ul>
<h2 data-number="11.4" id="핵심-개념-설명-9"><span
class="header-section-number">11.4</span> 핵심 개념 설명</h2>
<h3 data-number="11.4.1" id="개념-정의-9"><span
class="header-section-number">11.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 비동기/네트워크/JSON/에러 처리 는
화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경 영향도를
줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="11.4.2" id="동작-원리-9"><span
class="header-section-number">11.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="11.4.3" id="실무-적용-절차-9"><span
class="header-section-number">11.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="11.4.4" id="프로젝트-적용-포인트-9"><span
class="header-section-number">11.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/core/content/content_store.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="11.5" id="실무-예제-코드-9"><span
class="header-section-number">11.5</span> 실무 예제 코드</h2>
<h3 data-number="11.5.1" id="예제-1-현재-장-핵심-패턴-9"><span
class="header-section-number">11.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb42"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// JSON 문자열을 Sentence 리스트로 안전하게 파싱한다.</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="dt">List</span><span class="op">&lt;</span>Sentence<span class="op">&gt;?</span> tryDecodeSentences(<span class="dt">String</span><span class="op">?</span> raw) <span class="op">{</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (raw <span class="op">==</span> <span class="cn">null</span> <span class="op">||</span> raw<span class="op">.</span>isEmpty) <span class="kw">return</span> <span class="cn">null</span>;</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span> <span class="op">{</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">final</span> list <span class="op">=</span> (jsonDecode(raw) <span class="kw">as</span> <span class="dt">List</span><span class="op">&lt;</span><span class="at">dynamic</span><span class="op">&gt;</span>);</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> list</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>map((e) <span class="op">=&gt;</span> Sentence<span class="op">.</span>fromJson(e <span class="kw">as</span> <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span>))</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>toList(growable<span class="op">:</span> <span class="cn">false</span>);</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span> <span class="cf">catch</span> (_) <span class="op">{</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="cn">null</span>;</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="11.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-9"><span
class="header-section-number">11.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb43"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="11.6" id="나쁜-예-vs-좋은-예-9"><span
class="header-section-number">11.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="11.7" id="디버깅-포인트-9"><span
class="header-section-number">11.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="11.8" id="성능보안유지보수-체크포인트-9"><span
class="header-section-number">11.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="11.9" id="장-마무리-요약-9"><span
class="header-section-number">11.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="11.10" id="퀴즈-5문항-9"><span
class="header-section-number">11.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="11.10.1" id="정답-및-해설-9"><span
class="header-section-number">11.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="11.11" id="실습-과제-9"><span
class="header-section-number">11.11</span> 실습 과제</h2>
<ul>
<li>난이도: 중급</li>
<li>과제명: 비동기/네트워크/JSON/에러 처리 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/core/content/content_store.dart</code>)의 하드코딩 3개
이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb44"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="11.12" id="실습-정답-코드-또는-해설-9"><span
class="header-section-number">11.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb45"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="11.13" id="실무에서-바로-쓰는-체크리스트-9"><span
class="header-section-number">11.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="12"
id="chapter-11.-로컬-저장소shared_preferences와-앱-상태-복원"><span
class="header-section-number">12</span> Chapter 11. 로컬
저장소(shared_preferences)와 앱 상태 복원</h1>
<h2 data-number="12.1" id="왜-필요한가-10"><span
class="header-section-number">12.1</span> 왜 필요한가</h2>
<p>앱 재실행 후에도 상태를 보존하는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/core/persistence/preferences_store.dart)에서 어떤
결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="12.2" id="학습-목표-10"><span
class="header-section-number">12.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="12.3" id="사전지식-10"><span
class="header-section-number">12.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/core/persistence/preferences_store.dart</code></li>
</ul>
<h2 data-number="12.4" id="핵심-개념-설명-10"><span
class="header-section-number">12.4</span> 핵심 개념 설명</h2>
<h3 data-number="12.4.1" id="개념-정의-10"><span
class="header-section-number">12.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 로컬 저장소(shared_preferences)와
앱 상태 복원 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여,
변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="12.4.2" id="동작-원리-10"><span
class="header-section-number">12.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="12.4.3" id="실무-적용-절차-10"><span
class="header-section-number">12.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="12.4.4" id="프로젝트-적용-포인트-10"><span
class="header-section-number">12.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/core/persistence/preferences_store.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="12.5" id="실무-예제-코드-10"><span
class="header-section-number">12.5</span> 실무 예제 코드</h2>
<h3 data-number="12.5.1" id="예제-1-현재-장-핵심-패턴-10"><span
class="header-section-number">12.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb46"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 즐겨찾기 토글: 저장소 반영 후 notifyListeners로 UI를 갱신한다.</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> toggleFavorite(<span class="dt">String</span> sentenceId<span class="op">,</span> <span class="op">{</span>DateTime<span class="op">?</span> now<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> timestamp <span class="op">=</span> now <span class="op">??</span> DateTime<span class="op">.</span>now();</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (_favoriteIds<span class="op">.</span>contains(sentenceId)) <span class="op">{</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    _favoriteIds<span class="op">.</span>remove(sentenceId);</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    _reviewMap<span class="op">.</span>remove(sentenceId);</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    _favoriteIds<span class="op">.</span>add(sentenceId);</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    _reviewMap[sentenceId] <span class="op">=</span> ReviewState(</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>      dueAtEpochMs<span class="op">:</span> timestamp<span class="op">.</span>millisecondsSinceEpoch<span class="op">,</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>      intervalDays<span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    );</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>  _persistFavorites();</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>  _persistReviewState();</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>  notifyListeners();</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="12.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-10"><span
class="header-section-number">12.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb47"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="12.6" id="나쁜-예-vs-좋은-예-10"><span
class="header-section-number">12.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="12.7" id="디버깅-포인트-10"><span
class="header-section-number">12.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="12.8" id="성능보안유지보수-체크포인트-10"><span
class="header-section-number">12.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="12.9" id="장-마무리-요약-10"><span
class="header-section-number">12.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="12.10" id="퀴즈-5문항-10"><span
class="header-section-number">12.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="12.10.1" id="정답-및-해설-10"><span
class="header-section-number">12.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="12.11" id="실습-과제-10"><span
class="header-section-number">12.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 로컬 저장소(shared_preferences)와 앱 상태 복원 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/core/persistence/preferences_store.dart</code>)의
하드코딩 3개 이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb48"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="12.12" id="실습-정답-코드-또는-해설-10"><span
class="header-section-number">12.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb49"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="12.13" id="실무에서-바로-쓰는-체크리스트-10"><span
class="header-section-number">12.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="13"
id="chapter-12.-아키텍처-설계-presentationdomaindata-분리"><span
class="header-section-number">13</span> Chapter 12. 아키텍처 설계:
presentation/domain/data 분리</h1>
<h2 data-number="13.1" id="왜-필요한가-11"><span
class="header-section-number">13.1</span> 왜 필요한가</h2>
<p>레이어 분리로 변경 영향도를 줄이는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/domain/usecases/today_pack_usecase.dart)에서 어떤
결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="13.2" id="학습-목표-11"><span
class="header-section-number">13.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="13.3" id="사전지식-11"><span
class="header-section-number">13.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/domain/usecases/today_pack_usecase.dart</code></li>
</ul>
<h2 data-number="13.4" id="핵심-개념-설명-11"><span
class="header-section-number">13.4</span> 핵심 개념 설명</h2>
<h3 data-number="13.4.1" id="개념-정의-11"><span
class="header-section-number">13.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 아키텍처 설계:
presentation/domain/data 분리 는 화면 구현과 비즈니스 로직 사이의 경계를
명확히 하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="13.4.2" id="동작-원리-11"><span
class="header-section-number">13.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="13.4.3" id="실무-적용-절차-11"><span
class="header-section-number">13.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="13.4.4" id="프로젝트-적용-포인트-11"><span
class="header-section-number">13.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/domain/usecases/today_pack_usecase.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="13.5" id="실무-예제-코드-11"><span
class="header-section-number">13.5</span> 실무 예제 코드</h2>
<h3 data-number="13.5.1" id="예제-1-현재-장-핵심-패턴-11"><span
class="header-section-number">13.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb50"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 유스케이스는 UI 의존 없이 도메인 조합만 수행해야 테스트가 쉽다.</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TodayPackUseCase <span class="op">{</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  TodayPackUseCase(<span class="op">{</span>required ContentRepository repo<span class="op">,</span> required PreferencesStore prefs<span class="op">}</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> _repo <span class="op">=</span> repo<span class="op">,</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>        _prefs <span class="op">=</span> prefs;</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> ContentRepository _repo;</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> PreferencesStore _prefs;</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="13.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-11"><span
class="header-section-number">13.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb51"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="13.6" id="나쁜-예-vs-좋은-예-11"><span
class="header-section-number">13.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="13.7" id="디버깅-포인트-11"><span
class="header-section-number">13.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="13.8" id="성능보안유지보수-체크포인트-11"><span
class="header-section-number">13.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="13.9" id="장-마무리-요약-11"><span
class="header-section-number">13.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="13.10" id="퀴즈-5문항-11"><span
class="header-section-number">13.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="13.10.1" id="정답-및-해설-11"><span
class="header-section-number">13.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="13.11" id="실습-과제-11"><span
class="header-section-number">13.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 아키텍처 설계: presentation/domain/data 분리 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/domain/usecases/today_pack_usecase.dart</code>)의
하드코딩 3개 이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb52"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="13.12" id="실습-정답-코드-또는-해설-11"><span
class="header-section-number">13.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb53"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="13.13" id="실무에서-바로-쓰는-체크리스트-11"><span
class="header-section-number">13.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="14"
id="chapter-13.-광고-기본-admob-배너-ump-동의"><span
class="header-section-number">14</span> Chapter 13. 광고 기본: AdMob
배너 + UMP 동의</h1>
<h2 data-number="14.1" id="왜-필요한가-12"><span
class="header-section-number">14.1</span> 왜 필요한가</h2>
<p>광고 정책 준수와 사용자 신뢰를 동시에 잡는 법 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(lib/core/ads/ads_service.dart)에서 어떤 결정이
품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="14.2" id="학습-목표-12"><span
class="header-section-number">14.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="14.3" id="사전지식-12"><span
class="header-section-number">14.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>lib/core/ads/ads_service.dart</code></li>
</ul>
<h2 data-number="14.4" id="핵심-개념-설명-12"><span
class="header-section-number">14.4</span> 핵심 개념 설명</h2>
<h3 data-number="14.4.1" id="개념-정의-12"><span
class="header-section-number">14.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 광고 기본: AdMob 배너 + UMP 동의
는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경 영향도를
줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="14.4.2" id="동작-원리-12"><span
class="header-section-number">14.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="14.4.3" id="실무-적용-절차-12"><span
class="header-section-number">14.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="14.4.4" id="프로젝트-적용-포인트-12"><span
class="header-section-number">14.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/core/ads/ads_service.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>sequenceDiagram
  participant U as User
  participant App as Flutter App
  participant UMP as Consent SDK
  participant ADS as Mobile Ads SDK
  U-&gt;&gt;App: App Launch
  App-&gt;&gt;UMP: gatherConsent()
  UMP--&gt;&gt;App: canRequestAds=true/false
  alt true
    App-&gt;&gt;ADS: initialize()
    ADS--&gt;&gt;App: ready
  else false
    App--&gt;&gt;U: no ad request
  end</code></pre>
<h2 data-number="14.5" id="실무-예제-코드-12"><span
class="header-section-number">14.5</span> 실무 예제 코드</h2>
<h3 data-number="14.5.1" id="예제-1-현재-장-핵심-패턴-12"><span
class="header-section-number">14.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb55"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 광고 SDK 초기화: 동의가 확보된 이후에만 수행한다.</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> ensureInitialized() <span class="at">async</span> <span class="op">{</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">await</span> _ref<span class="op">.</span>read(consentControllerProvider<span class="op">.</span>notifier)<span class="op">.</span>gatherConsent();</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> consent <span class="op">=</span> _ref<span class="op">.</span>read(consentControllerProvider);</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>consent<span class="op">.</span>canRequestAds) <span class="kw">return</span>;</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">await</span> MobileAds<span class="op">.</span>instance<span class="op">.</span>initialize();</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="14.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-12"><span
class="header-section-number">14.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb56"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="14.6" id="나쁜-예-vs-좋은-예-12"><span
class="header-section-number">14.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="14.7" id="디버깅-포인트-12"><span
class="header-section-number">14.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="14.8" id="성능보안유지보수-체크포인트-12"><span
class="header-section-number">14.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="14.9" id="장-마무리-요약-12"><span
class="header-section-number">14.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="14.10" id="퀴즈-5문항-12"><span
class="header-section-number">14.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="14.10.1" id="정답-및-해설-12"><span
class="header-section-number">14.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="14.11" id="실습-과제-12"><span
class="header-section-number">14.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 광고 기본: AdMob 배너 + UMP 동의 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/core/ads/ads_service.dart</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb57"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="14.12" id="실습-정답-코드-또는-해설-12"><span
class="header-section-number">14.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb58"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="14.13" id="실무에서-바로-쓰는-체크리스트-12"><span
class="header-section-number">14.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="15"
id="chapter-14.-테스트-전략-단위위젯통합과-품질-게이트"><span
class="header-section-number">15</span> Chapter 14. 테스트 전략:
단위/위젯/통합과 품질 게이트</h1>
<h2 data-number="15.1" id="왜-필요한가-13"><span
class="header-section-number">15.1</span> 왜 필요한가</h2>
<p>회귀 버그를 방지하는 테스트 습관 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(test/feature_sanity_test.dart)에서 어떤 결정이 품질을
좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="15.2" id="학습-목표-13"><span
class="header-section-number">15.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="15.3" id="사전지식-13"><span
class="header-section-number">15.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>test/feature_sanity_test.dart</code></li>
</ul>
<h2 data-number="15.4" id="핵심-개념-설명-13"><span
class="header-section-number">15.4</span> 핵심 개념 설명</h2>
<h3 data-number="15.4.1" id="개념-정의-13"><span
class="header-section-number">15.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 테스트 전략: 단위/위젯/통합과
품질 게이트 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경
영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="15.4.2" id="동작-원리-13"><span
class="header-section-number">15.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="15.4.3" id="실무-적용-절차-13"><span
class="header-section-number">15.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="15.4.4" id="프로젝트-적용-포인트-13"><span
class="header-section-number">15.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>test/feature_sanity_test.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="15.5" id="실무-예제-코드-13"><span
class="header-section-number">15.5</span> 실무 예제 코드</h2>
<h3 data-number="15.5.1" id="예제-1-현재-장-핵심-패턴-13"><span
class="header-section-number">15.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb59"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>testWidgets(<span class="st">&#39;onboarding skip routes to today&#39;</span><span class="op">,</span> (tester) <span class="at">async</span> <span class="op">{</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">await</span> tester<span class="op">.</span>pumpWidget(<span class="at">const</span> App());</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">await</span> tester<span class="op">.</span>tap(find<span class="op">.</span>text(<span class="st">&#39;건너뛰기&#39;</span>));</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">await</span> tester<span class="op">.</span>pumpAndSettle();</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  expect(find<span class="op">.</span>textContaining(<span class="st">&#39;오늘 바로 써먹는 문장과 패턴으로&#39;</span>)<span class="op">,</span> findsOneWidget);</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>);</span></code></pre></div>
<h3 data-number="15.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-13"><span
class="header-section-number">15.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb60"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="15.6" id="나쁜-예-vs-좋은-예-13"><span
class="header-section-number">15.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="15.7" id="디버깅-포인트-13"><span
class="header-section-number">15.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="15.8" id="성능보안유지보수-체크포인트-13"><span
class="header-section-number">15.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="15.9" id="장-마무리-요약-13"><span
class="header-section-number">15.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="15.10" id="퀴즈-5문항-13"><span
class="header-section-number">15.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="15.10.1" id="정답-및-해설-13"><span
class="header-section-number">15.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="15.11" id="실습-과제-13"><span
class="header-section-number">15.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 테스트 전략: 단위/위젯/통합과 품질 게이트 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>test/feature_sanity_test.dart</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb61"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="15.12" id="실습-정답-코드-또는-해설-13"><span
class="header-section-number">15.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb62"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="15.13" id="실무에서-바로-쓰는-체크리스트-13"><span
class="header-section-number">15.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="16"
id="chapter-15.-디버깅-로그스택트레이스재현-전략"><span
class="header-section-number">16</span> Chapter 15. 디버깅:
로그/스택트레이스/재현 전략</h1>
<h2 data-number="16.1" id="왜-필요한가-14"><span
class="header-section-number">16.1</span> 왜 필요한가</h2>
<p>문제 재현률을 높여 디버깅 시간을 줄이는 법 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(lib/core/support/app_logger.dart)에서 어떤
결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="16.2" id="학습-목표-14"><span
class="header-section-number">16.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="16.3" id="사전지식-14"><span
class="header-section-number">16.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/core/support/app_logger.dart</code></li>
</ul>
<h2 data-number="16.4" id="핵심-개념-설명-14"><span
class="header-section-number">16.4</span> 핵심 개념 설명</h2>
<h3 data-number="16.4.1" id="개념-정의-14"><span
class="header-section-number">16.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 디버깅: 로그/스택트레이스/재현
전략 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여, 변경
영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="16.4.2" id="동작-원리-14"><span
class="header-section-number">16.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="16.4.3" id="실무-적용-절차-14"><span
class="header-section-number">16.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="16.4.4" id="프로젝트-적용-포인트-14"><span
class="header-section-number">16.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/core/support/app_logger.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="16.5" id="실무-예제-코드-14"><span
class="header-section-number">16.5</span> 실무 예제 코드</h2>
<h3 data-number="16.5.1" id="예제-1-현재-장-핵심-패턴-14"><span
class="header-section-number">16.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb63"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>logger<span class="op">.</span>error(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  AppLogCategory<span class="op">.</span>consent<span class="op">,</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Failed to gather UMP consent state.&#39;</span><span class="op">,</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  error<span class="op">:</span> error<span class="op">,</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  stackTrace<span class="op">:</span> stackTrace<span class="op">,</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
<h3 data-number="16.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-14"><span
class="header-section-number">16.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb64"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="16.6" id="나쁜-예-vs-좋은-예-14"><span
class="header-section-number">16.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="16.7" id="디버깅-포인트-14"><span
class="header-section-number">16.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="16.8" id="성능보안유지보수-체크포인트-14"><span
class="header-section-number">16.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="16.9" id="장-마무리-요약-14"><span
class="header-section-number">16.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="16.10" id="퀴즈-5문항-14"><span
class="header-section-number">16.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="16.10.1" id="정답-및-해설-14"><span
class="header-section-number">16.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="16.11" id="실습-과제-14"><span
class="header-section-number">16.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 디버깅: 로그/스택트레이스/재현 전략 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/core/support/app_logger.dart</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb65"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="16.12" id="실습-정답-코드-또는-해설-14"><span
class="header-section-number">16.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb66"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="16.13" id="실무에서-바로-쓰는-체크리스트-14"><span
class="header-section-number">16.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="17"
id="chapter-16.-빌드릴리즈-android-aab버전서명"><span
class="header-section-number">17</span> Chapter 16. 빌드/릴리즈: Android
AAB/버전/서명</h1>
<h2 data-number="17.1" id="왜-필요한가-15"><span
class="header-section-number">17.1</span> 왜 필요한가</h2>
<p>릴리즈 실패를 사전에 막는 빌드 파이프라인 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(android/app/build.gradle.kts)에서 어떤 결정이
품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="17.2" id="학습-목표-15"><span
class="header-section-number">17.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="17.3" id="사전지식-15"><span
class="header-section-number">17.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>android/app/build.gradle.kts</code></li>
</ul>
<h2 data-number="17.4" id="핵심-개념-설명-15"><span
class="header-section-number">17.4</span> 핵심 개념 설명</h2>
<h3 data-number="17.4.1" id="개념-정의-15"><span
class="header-section-number">17.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 빌드/릴리즈: Android
AAB/버전/서명 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여,
변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="17.4.2" id="동작-원리-15"><span
class="header-section-number">17.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="17.4.3" id="실무-적용-절차-15"><span
class="header-section-number">17.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="17.4.4" id="프로젝트-적용-포인트-15"><span
class="header-section-number">17.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>android/app/build.gradle.kts</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="17.5" id="실무-예제-코드-15"><span
class="header-section-number">17.5</span> 실무 예제 코드</h2>
<h3 data-number="17.5.1" id="예제-1-현재-장-핵심-패턴-15"><span
class="header-section-number">17.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb67"><pre
class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>isReleaseTask<span class="op">)</span> <span class="op">{</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(!</span>hasKeystoreProperties<span class="op">)</span> <span class="op">{</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">throw</span> GradleException<span class="op">(</span><span class="st">&quot;Missing android/key.properties&quot;</span><span class="op">)</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>adMobAppIdProp<span class="op">.</span>isBlank<span class="op">())</span> <span class="op">{</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">throw</span> GradleException<span class="op">(</span><span class="st">&quot;Missing ADMOB_APP_ID&quot;</span><span class="op">)</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="17.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-15"><span
class="header-section-number">17.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb68"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="17.6" id="나쁜-예-vs-좋은-예-15"><span
class="header-section-number">17.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="17.7" id="디버깅-포인트-15"><span
class="header-section-number">17.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="17.8" id="성능보안유지보수-체크포인트-15"><span
class="header-section-number">17.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="17.9" id="장-마무리-요약-15"><span
class="header-section-number">17.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="17.10" id="퀴즈-5문항-15"><span
class="header-section-number">17.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="17.10.1" id="정답-및-해설-15"><span
class="header-section-number">17.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="17.11" id="실습-과제-15"><span
class="header-section-number">17.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 빌드/릴리즈: Android AAB/버전/서명 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>android/app/build.gradle.kts</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb69"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="17.12" id="실습-정답-코드-또는-해설-15"><span
class="header-section-number">17.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb70"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="17.13" id="실무에서-바로-쓰는-체크리스트-15"><span
class="header-section-number">17.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="18"
id="chapter-17.-cicd-기초-github-actions-파이프라인-읽기"><span
class="header-section-number">18</span> Chapter 17. CI/CD 기초: GitHub
Actions 파이프라인 읽기</h1>
<h2 data-number="18.1" id="왜-필요한가-16"><span
class="header-section-number">18.1</span> 왜 필요한가</h2>
<p>자동검사/자동배포를 읽고 운영하는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(.github/workflows/ci.yml)에서 어떤 결정이 품질을
좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="18.2" id="학습-목표-16"><span
class="header-section-number">18.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="18.3" id="사전지식-16"><span
class="header-section-number">18.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>.github/workflows/ci.yml</code></li>
</ul>
<h2 data-number="18.4" id="핵심-개념-설명-16"><span
class="header-section-number">18.4</span> 핵심 개념 설명</h2>
<h3 data-number="18.4.1" id="개념-정의-16"><span
class="header-section-number">18.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: CI/CD 기초: GitHub Actions
파이프라인 읽기 는 화면 구현과 비즈니스 로직 사이의 경계를 명확히 하여,
변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="18.4.2" id="동작-원리-16"><span
class="header-section-number">18.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="18.4.3" id="실무-적용-절차-16"><span
class="header-section-number">18.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="18.4.4" id="프로젝트-적용-포인트-16"><span
class="header-section-number">18.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.github/workflows/ci.yml</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>flowchart TD
  PR[Pull Request] --&gt; CI[CI: analyze + test]
  CI --&gt; M{Pass?}
  M --&gt;|Yes| Merge[main merge]
  M --&gt;|No| Fix[Fix and re-run]
  Merge --&gt; Tag[v* tag or manual]
  Tag --&gt; CD[CD: build AAB + upload internal]</code></pre>
<h2 data-number="18.5" id="실무-예제-코드-16"><span
class="header-section-number">18.5</span> 실무 예제 코드</h2>
<h3 data-number="18.5.1" id="예제-1-현재-장-핵심-패턴-16"><span
class="header-section-number">18.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb72"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> CI</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pull_request</span><span class="kw">:</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">]</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">analyze_test</span><span class="kw">:</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v4</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> subosito/flutter-action@v2</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">run</span><span class="kw">:</span><span class="at"> flutter pub get</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">run</span><span class="kw">:</span><span class="at"> flutter analyze</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">run</span><span class="kw">:</span><span class="at"> flutter test -j 1</span></span></code></pre></div>
<h3 data-number="18.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-16"><span
class="header-section-number">18.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb73"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="18.6" id="나쁜-예-vs-좋은-예-16"><span
class="header-section-number">18.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="18.7" id="디버깅-포인트-16"><span
class="header-section-number">18.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="18.8" id="성능보안유지보수-체크포인트-16"><span
class="header-section-number">18.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="18.9" id="장-마무리-요약-16"><span
class="header-section-number">18.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="18.10" id="퀴즈-5문항-16"><span
class="header-section-number">18.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="18.10.1" id="정답-및-해설-16"><span
class="header-section-number">18.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="18.11" id="실습-과제-16"><span
class="header-section-number">18.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: CI/CD 기초: GitHub Actions 파이프라인 읽기 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>.github/workflows/ci.yml</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb74"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="18.12" id="실습-정답-코드-또는-해설-16"><span
class="header-section-number">18.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb75"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="18.13" id="실무에서-바로-쓰는-체크리스트-16"><span
class="header-section-number">18.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="19"
id="chapter-18.-성능-최적화-renderrebuild메모리이미지"><span
class="header-section-number">19</span> Chapter 18. 성능 최적화:
Render/Rebuild/메모리/이미지</h1>
<h2 data-number="19.1" id="왜-필요한가-17"><span
class="header-section-number">19.1</span> 왜 필요한가</h2>
<p>느린 화면과 메모리 누수를 예방하는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/ui_components/sentence_card.dart)에서 어떤 결정이
품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="19.2" id="학습-목표-17"><span
class="header-section-number">19.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="19.3" id="사전지식-17"><span
class="header-section-number">19.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/ui_components/sentence_card.dart</code></li>
</ul>
<h2 data-number="19.4" id="핵심-개념-설명-17"><span
class="header-section-number">19.4</span> 핵심 개념 설명</h2>
<h3 data-number="19.4.1" id="개념-정의-17"><span
class="header-section-number">19.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 성능 최적화:
Render/Rebuild/메모리/이미지 는 화면 구현과 비즈니스 로직 사이의 경계를
명확히 하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="19.4.2" id="동작-원리-17"><span
class="header-section-number">19.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="19.4.3" id="실무-적용-절차-17"><span
class="header-section-number">19.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="19.4.4" id="프로젝트-적용-포인트-17"><span
class="header-section-number">19.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/ui_components/sentence_card.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="19.5" id="실무-예제-코드-17"><span
class="header-section-number">19.5</span> 실무 예제 코드</h2>
<h3 data-number="19.5.1" id="예제-1-현재-장-핵심-패턴-17"><span
class="header-section-number">19.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb76"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 불필요한 rebuild를 줄이기 위해 const 위젯과 지역 상태 분리를 사용한다.</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> HeaderTitle <span class="kw">extends</span> StatelessWidget <span class="op">{</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">const</span> HeaderTitle(<span class="op">{</span><span class="kw">super</span><span class="op">.</span>key<span class="op">}</span>);</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">@override</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  Widget build(BuildContext context) <span class="op">{</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Text(<span class="st">&#39;상황 탐색&#39;</span>);</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="19.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-17"><span
class="header-section-number">19.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb77"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="19.6" id="나쁜-예-vs-좋은-예-17"><span
class="header-section-number">19.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="19.7" id="디버깅-포인트-17"><span
class="header-section-number">19.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="19.8" id="성능보안유지보수-체크포인트-17"><span
class="header-section-number">19.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="19.9" id="장-마무리-요약-17"><span
class="header-section-number">19.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="19.10" id="퀴즈-5문항-17"><span
class="header-section-number">19.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="19.10.1" id="정답-및-해설-17"><span
class="header-section-number">19.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="19.11" id="실습-과제-17"><span
class="header-section-number">19.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 성능 최적화: Render/Rebuild/메모리/이미지 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/ui_components/sentence_card.dart</code>)의 하드코딩 3개
이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb78"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="19.12" id="실습-정답-코드-또는-해설-17"><span
class="header-section-number">19.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb79"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="19.13" id="실무에서-바로-쓰는-체크리스트-17"><span
class="header-section-number">19.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="20"
id="chapter-19.-유지보수-전략-리팩터링코드리뷰기술부채"><span
class="header-section-number">20</span> Chapter 19. 유지보수 전략:
리팩터링/코드리뷰/기술부채</h1>
<h2 data-number="20.1" id="왜-필요한가-18"><span
class="header-section-number">20.1</span> 왜 필요한가</h2>
<p>기능 추가 없이 코드 건강을 유지하는 법 는 이 프로젝트에서 반복적으로
발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보 단계에서 가장
흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기 어렵게 되는
구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이 아니라,
<strong>실제 파일(lib/core/content/content_repository.dart)에서 어떤
결정이 품질을 좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="20.2" id="학습-목표-18"><span
class="header-section-number">20.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="20.3" id="사전지식-18"><span
class="header-section-number">20.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일:
<code>lib/core/content/content_repository.dart</code></li>
</ul>
<h2 data-number="20.4" id="핵심-개념-설명-18"><span
class="header-section-number">20.4</span> 핵심 개념 설명</h2>
<h3 data-number="20.4.1" id="개념-정의-18"><span
class="header-section-number">20.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 유지보수 전략:
리팩터링/코드리뷰/기술부채 는 화면 구현과 비즈니스 로직 사이의 경계를
명확히 하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="20.4.2" id="동작-원리-18"><span
class="header-section-number">20.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="20.4.3" id="실무-적용-절차-18"><span
class="header-section-number">20.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="20.4.4" id="프로젝트-적용-포인트-18"><span
class="header-section-number">20.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib/core/content/content_repository.dart</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<h2 data-number="20.5" id="실무-예제-코드-18"><span
class="header-section-number">20.5</span> 실무 예제 코드</h2>
<h3 data-number="20.5.1" id="예제-1-현재-장-핵심-패턴-18"><span
class="header-section-number">20.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb80"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 리팩터링 규칙: 중복 로직은 공용 함수로 추출한다.</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="dt">List</span><span class="op">&lt;</span>T<span class="op">&gt;</span> filterByTag<span class="op">&lt;</span>T<span class="op">&gt;</span>(<span class="dt">List</span><span class="op">&lt;</span>T<span class="op">&gt;</span> list<span class="op">,</span> <span class="dt">String</span> tag<span class="op">,</span> <span class="dt">List</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;</span> <span class="kw">Function</span>(T) tagsReader) <span class="op">{</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">final</span> filtered <span class="op">=</span> list<span class="op">.</span>where((item) <span class="op">=&gt;</span> tagsReader(item)<span class="op">.</span>contains(tag))<span class="op">.</span>toList(growable<span class="op">:</span> <span class="cn">false</span>);</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> filtered<span class="op">.</span>isEmpty <span class="op">?</span> list <span class="op">:</span> filtered;</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="20.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-18"><span
class="header-section-number">20.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb81"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="20.6" id="나쁜-예-vs-좋은-예-18"><span
class="header-section-number">20.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="20.7" id="디버깅-포인트-18"><span
class="header-section-number">20.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="20.8" id="성능보안유지보수-체크포인트-18"><span
class="header-section-number">20.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="20.9" id="장-마무리-요약-18"><span
class="header-section-number">20.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="20.10" id="퀴즈-5문항-18"><span
class="header-section-number">20.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="20.10.1" id="정답-및-해설-18"><span
class="header-section-number">20.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="20.11" id="실습-과제-18"><span
class="header-section-number">20.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 유지보수 전략: 리팩터링/코드리뷰/기술부채 실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>lib/core/content/content_repository.dart</code>)의 하드코딩
3개 이상 식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb82"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="20.12" id="실습-정답-코드-또는-해설-18"><span
class="header-section-number">20.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb83"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="20.13" id="실무에서-바로-쓰는-체크리스트-18"><span
class="header-section-number">20.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="21"
id="chapter-20.-실전-프로젝트-적용-ourmatchwellflutter-개선-로드맵"><span
class="header-section-number">21</span> Chapter 20. 실전 프로젝트 적용:
OurMatchWellFlutter 개선 로드맵</h1>
<h2 data-number="21.1" id="왜-필요한가-19"><span
class="header-section-number">21.1</span> 왜 필요한가</h2>
<p>실제 레포에서 바로 실행 가능한 개선 순서 는 이 프로젝트에서
반복적으로 발생하는 유지보수 비용을 줄이기 위한 핵심 역량입니다. 초보
단계에서 가장 흔한 실패는 “일단 동작만 되게” 구현한 뒤, 나중에 고치기
어렵게 되는 구조를 만드는 것입니다. 이 장에서는 개념을 암기하는 것이
아니라, <strong>실제 파일(docs/PLAY_RELEASE.md)에서 어떤 결정이 품질을
좌우하는지</strong>를 기준으로 학습합니다.</p>
<h2 data-number="21.2" id="학습-목표-19"><span
class="header-section-number">21.2</span> 학습 목표</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장의 핵심 용어를 한국어/영어
병기로 설명할 수 있다.</label></li>
<li><label><input type="checkbox" />동작 원리를 코드 흐름으로 그릴 수
있다.</label></li>
<li><label><input type="checkbox" />안티패턴을 보고 왜 위험한지 설명할
수 있다.</label></li>
<li><label><input type="checkbox" />OurMatchWellFlutter에 맞는 수정
포인트를 고를 수 있다.</label></li>
<li><label><input type="checkbox" />분석/테스트/실행 검증 루틴을 직접
수행할 수 있다.</label></li>
</ul>
<h2 data-number="21.3" id="사전지식-19"><span
class="header-section-number">21.3</span> 사전지식</h2>
<ul>
<li>Flutter SDK 설치와 <code>flutter doctor</code> 기본 점검</li>
<li>Dart 파일 열람과 기본 편집기 사용법</li>
<li>Git 기본 개념(commit/branch/revert)</li>
<li>이 장의 대상 파일: <code>docs/PLAY_RELEASE.md</code></li>
</ul>
<h2 data-number="21.4" id="핵심-개념-설명-19"><span
class="header-section-number">21.4</span> 핵심 개념 설명</h2>
<h3 data-number="21.4.1" id="개념-정의-19"><span
class="header-section-number">21.4.1</span> 1) 개념 정의</h3>
<ul>
<li><strong>정의(Definition)</strong>: 실전 프로젝트 적용:
OurMatchWellFlutter 개선 로드맵 는 화면 구현과 비즈니스 로직 사이의
경계를 명확히 하여, 변경 영향도를 줄이는 방법론입니다.</li>
<li><strong>핵심 원칙(Core Principle)</strong>: 하드코딩 금지, 매직넘버
금지, 의존성 분리, 테스트 가능한 구조.</li>
<li><strong>실무 기준(Production Criteria)</strong>: 릴리즈 빌드에서
실패 원인을 빠르게 추적 가능해야 하며, 팀원이 코드를 읽고 안전하게
수정할 수 있어야 합니다.</li>
</ul>
<h3 data-number="21.4.2" id="동작-원리-19"><span
class="header-section-number">21.4.2</span> 2) 동작 원리</h3>
<ol type="1">
<li>입력 이벤트(탭/검색/라우팅/초기화)가 발생합니다.</li>
<li>상태 계층(UI 상태 vs 도메인 상태)을 분리합니다.</li>
<li>Provider 또는 유스케이스가 데이터 조합을 수행합니다.</li>
<li>실패 가능 지점(네트워크/스토리지/채널)을 예외 처리합니다.</li>
<li>UI는 결과 상태(loading/error/data)만 렌더링합니다.</li>
<li>로그는 카테고리 기반으로 기록합니다.</li>
<li>테스트는 단위/위젯/스모크를 분리 실행합니다.</li>
<li>품질 게이트(analyze/test/build)를 통과해야 배포 후보가 됩니다.</li>
</ol>
<h3 data-number="21.4.3" id="실무-적용-절차-19"><span
class="header-section-number">21.4.3</span> 3) 실무 적용 절차</h3>
<table>
<thead>
<tr>
<th>단계</th>
<th>작업</th>
<th>산출물</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>요구사항 분해</td>
<td>변경 범위 문서</td>
</tr>
<tr>
<td>2</td>
<td>데이터/상태 경계 정의</td>
<td>Provider/UseCase 설계</td>
</tr>
<tr>
<td>3</td>
<td>UI 컴포넌트 분해</td>
<td>재사용 위젯</td>
</tr>
<tr>
<td>4</td>
<td>실패 시나리오 정의</td>
<td>예외 처리 정책</td>
</tr>
<tr>
<td>5</td>
<td>로깅 포인트 지정</td>
<td>카테고리 로그</td>
</tr>
<tr>
<td>6</td>
<td>테스트 작성</td>
<td>단위/위젯 테스트</td>
</tr>
<tr>
<td>7</td>
<td>정적 분석/실행 검증</td>
<td>품질 리포트</td>
</tr>
</tbody>
</table>
<h3 data-number="21.4.4" id="프로젝트-적용-포인트-19"><span
class="header-section-number">21.4.4</span> 4) 프로젝트 적용 포인트</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>현재 파일</th>
<th>관찰 포인트</th>
<th>개선 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>docs/PLAY_RELEASE.md</code></td>
<td>기능이 몰려 있는지 확인</td>
<td>단일 책임(SRP) 유지</td>
</tr>
<tr>
<td><code>lib/app/theme.dart</code></td>
<td>스타일 하드코딩 여부</td>
<td>토큰 기반 관리</td>
</tr>
<tr>
<td><code>lib/core/*</code></td>
<td>에러 처리 누락 여부</td>
<td>실패 복구 경로 명시</td>
</tr>
<tr>
<td><code>test/*</code></td>
<td>회귀 테스트 부재 여부</td>
<td>최소 스모크 + 핵심 단위 테스트</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>flowchart TD
  R[Requirement] --&gt; D[Design]
  D --&gt; I[Implementation]
  I --&gt; T[Test]
  T --&gt; P[Policy Check]
  P --&gt; B[Build AAB]
  B --&gt; C[Console Submit]
  C --&gt; M[Monitor + Maintain]</code></pre>
<h2 data-number="21.5" id="실무-예제-코드-19"><span
class="header-section-number">21.5</span> 실무 예제 코드</h2>
<h3 data-number="21.5.1" id="예제-1-현재-장-핵심-패턴-19"><span
class="header-section-number">21.5.1</span> 예제 1: 현재 장 핵심
패턴</h3>
<div class="sourceCode" id="cb85"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 기능 변경 없이 비기능 점검 루틴</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> build appbundle <span class="at">--release</span></span></code></pre></div>
<h3 data-number="21.5.2"
id="예제-2-나쁜-예와-좋은-예를-비교하는-공통-템플릿-19"><span
class="header-section-number">21.5.2</span> 예제 2: 나쁜 예와 좋은 예를
비교하는 공통 템플릿</h3>
<div class="sourceCode" id="cb86"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [나쁜 예] 나쁜 예: 하드코딩 + 중복 + 목적 불분명 함수명</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>Color getColor(<span class="dt">bool</span> selected) <span class="op">{</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected) <span class="op">{</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFF123456</span>);</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="at">const</span> Color(<span class="dv">0xFFEEEEEE</span>);</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [좋은 예] 좋은 예: 토큰화 + 함수 목적 주석 + 단일 책임</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UiToken <span class="op">{</span></span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>  UiToken<span class="op">.</span>_();</span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color selectedChip <span class="op">=</span> Color(<span class="dv">0xFF0F766E</span>);</span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Color unselectedChip <span class="op">=</span> Color(<span class="dv">0xFFEEF2FF</span>);</span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a><span class="co">/// 칩 선택 상태에 맞는 색상을 반환한다.</span></span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>Color resolveChipColor(<span class="op">{</span>required <span class="dt">bool</span> selected<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb86-18"><a href="#cb86-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> selected <span class="op">?</span> UiToken<span class="op">.</span>selectedChip <span class="op">:</span> UiToken<span class="op">.</span>unselectedChip;</span>
<span id="cb86-19"><a href="#cb86-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="21.6" id="나쁜-예-vs-좋은-예-19"><span
class="header-section-number">21.6</span> 나쁜 예 vs 좋은 예</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>항목</th>
<th>나쁜 예(안티패턴)</th>
<th>좋은 예(개선 패턴)</th>
</tr>
</thead>
<tbody>
<tr>
<td>상수 관리</td>
<td>숫자/색상 직접 입력</td>
<td>토큰/상수 클래스로 분리</td>
</tr>
<tr>
<td>상태관리</td>
<td>위젯 곳곳에서 임시 상태 남발</td>
<td>Provider/Notifier로 책임 분리</td>
</tr>
<tr>
<td>라우팅</td>
<td>문자열 하드코딩 중복</td>
<td>라우트 규칙 중앙화</td>
</tr>
<tr>
<td>예외처리</td>
<td>try-catch 누락</td>
<td>실패 시 fallback + 로깅</td>
</tr>
<tr>
<td>테스트</td>
<td>수동 확인만 수행</td>
<td>analyze/test 자동화</td>
</tr>
<tr>
<td>로그</td>
<td>print 남발</td>
<td>카테고리/레벨 기반 로그</td>
</tr>
<tr>
<td>재사용성</td>
<td>화면마다 비슷한 위젯 복붙</td>
<td>공용 컴포넌트 추출</td>
</tr>
<tr>
<td>정책 준수</td>
<td>동의 전 광고 요청</td>
<td>동의 상태 검증 후 요청</td>
</tr>
</tbody>
</table>
<h2 data-number="21.7" id="디버깅-포인트-19"><span
class="header-section-number">21.7</span> 디버깅 포인트</h2>
<ol type="1">
<li>이슈를 “재현 가능 단계”로 먼저 분해한다.</li>
<li>로그를 카테고리별로 보고 입력/상태/출력을 분리한다.</li>
<li>UI 문제인지, 상태 문제인지, 데이터 문제인지 먼저 판단한다.</li>
<li>에러 메시지의 첫 줄보다 스택트레이스 상단 함수명을 우선
확인한다.</li>
<li>재현 조건(기기, 날짜, 동의 상태, 로그인 상태)을 기록한다.</li>
<li>동일 증상을 최소 샘플 코드로 축소해 본다.</li>
<li>변경 전/후 스냅샷을 남겨 회귀를 추적한다.</li>
<li>테스트로 재현 가능한지 먼저 본다.</li>
<li>고친 뒤에는 반대 경로(negative path)도 검증한다.</li>
<li>“원인-해결-재검증” 3단계로 문서화한다.</li>
</ol>
<h2 data-number="21.8" id="성능보안유지보수-체크포인트-19"><span
class="header-section-number">21.8</span> 성능/보안/유지보수
체크포인트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />불필요한 rebuild를 유발하는 watch
범위를 줄였는가?</label></li>
<li><label><input type="checkbox" />하드코딩된 비밀값/키가 코드에
없는가?</label></li>
<li><label><input type="checkbox" />예외 발생 시 사용자에게 의미 있는
피드백이 있는가?</label></li>
<li><label><input type="checkbox" />상태 객체가 불변(immutable) 원칙을
따르는가?</label></li>
<li><label><input type="checkbox" />중복 조건문/필터 로직을 공용 함수로
추출했는가?</label></li>
<li><label><input type="checkbox" />네트워크/스토리지 실패 시 앱이 죽지
않는가?</label></li>
<li><label><input type="checkbox" />릴리즈 경로에서 디버그 코드가
실행되지 않는가?</label></li>
<li><label><input type="checkbox" />파일/함수 이름이 역할을 명확히
표현하는가?</label></li>
<li><label><input type="checkbox" />테스트 코드가 핵심 비즈니스 규칙을
덮고 있는가?</label></li>
<li><label><input type="checkbox" />변경된 파일 경로를
문서화했는가?</label></li>
</ul>
<h2 data-number="21.9" id="장-마무리-요약-19"><span
class="header-section-number">21.9</span> 장 마무리 요약</h2>
<ul>
<li>이 장의 핵심은 “동작하는 코드”가 아니라 “유지되는 코드”입니다.</li>
<li>구조를 나누는 이유는 협업보다 먼저, <strong>미래의 나 자신을 위한
비용 절감</strong>입니다.</li>
<li>한 번에 크게 고치지 말고, 작은 단위로 안전하게 수정하고 검증해야
합니다.</li>
<li>항상 분석/테스트/실행 3종 세트를 반복하세요.</li>
<li>실무 품질은 화려한 기능보다 <strong>일관된 기본기</strong>에서
나옵니다.</li>
</ul>
<h2 data-number="21.10" id="퀴즈-5문항-19"><span
class="header-section-number">21.10</span> 퀴즈 5문항</h2>
<ol type="1">
<li>하드코딩이 단기적으로 빠른데도 장기적으로 위험한 이유는?</li>
<li>상태관리 계층을 나누지 않으면 어떤 버그가 쉽게 생기는가?</li>
<li>예외 처리에서 “fallback”이 필요한 이유는?</li>
<li>테스트가 없는 리팩터링이 위험한 이유는?</li>
<li>이 장의 내용을 현재 프로젝트 파일에 적용할 때 첫 단계는?</li>
</ol>
<h3 data-number="21.10.1" id="정답-및-해설-19"><span
class="header-section-number">21.10.1</span> 정답 및 해설</h3>
<ol type="1">
<li>변경 지점이 분산되어 수정 누락/회귀 확률이 급증합니다.</li>
<li>UI 갱신 타이밍이 꼬여 재현 어려운 간헐 버그가 발생합니다.</li>
<li>실패 시 앱 전체 기능 정지 대신, 제한된 기능으로 운영을 계속하기
위해서입니다.</li>
<li>동작 보장이 없어 “개선”이 아닌 “변형”이 될 수 있기 때문입니다.</li>
<li>변경 범위를 문서로 분해하고 영향 파일을 식별하는 것입니다.</li>
</ol>
<h2 data-number="21.11" id="실습-과제-19"><span
class="header-section-number">21.11</span> 실습 과제</h2>
<ul>
<li>난이도: 응용</li>
<li>과제명: 실전 프로젝트 적용: OurMatchWellFlutter 개선 로드맵
실습</li>
<li>요구사항:
<ul class="task-list">
<li><label><input type="checkbox" />대상
파일(<code>docs/PLAY_RELEASE.md</code>)의 하드코딩 3개 이상
식별</label></li>
<li><label><input type="checkbox" />상수 또는 토큰으로 치환</label></li>
<li><label><input type="checkbox" />실패 시 fallback 동작 1개
추가</label></li>
<li><label><input type="checkbox" />로그 1개 이상 추가</label></li>
</ul></li>
<li>완료 조건:
<ul class="task-list">
<li><label><input type="checkbox" />기능 동일 유지</label></li>
<li><label><input type="checkbox" /><code>flutter analyze</code>
통과</label></li>
<li><label><input type="checkbox" /><code>flutter test -j 1</code>
통과</label></li>
</ul></li>
<li>검증법:</li>
</ul>
<div class="sourceCode" id="cb87"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h2 data-number="21.12" id="실습-정답-코드-또는-해설-19"><span
class="header-section-number">21.12</span> 실습 정답 코드 또는 해설</h2>
<div class="sourceCode" id="cb88"><pre
class="sourceCode dart"><code class="sourceCode dart"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 목적이 분명한 함수로 로직을 분리한다.</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="dt">String</span> buildDebugLabel(<span class="op">{</span>required <span class="dt">String</span> module<span class="op">,</span> required <span class="dt">String</span> action<span class="op">}</span>) <span class="op">{</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">;</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="co">/// 실습 해설: 하드코딩 값을 상수로 분리한다.</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PracticeToken <span class="op">{</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  PracticeToken<span class="op">.</span>_();</span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> <span class="dt">int</span> retryLimit <span class="op">=</span> <span class="dv">3</span>;</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">static</span> <span class="at">const</span> Duration retryDelay <span class="op">=</span> Duration(milliseconds<span class="op">:</span> <span class="dv">300</span>);</span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>해설 포인트:</p>
<ul>
<li>함수는 “무엇을 반환하는지”가 이름에서 드러나야 합니다.</li>
<li>숫자 상수는 의미를 부여한 이름으로 바꿔야 합니다.</li>
<li>실패 시나리오를 먼저 작성하면 안정성이 올라갑니다.</li>
<li>로그는 나중에 지우는 게 아니라, 분류 체계를 정해 유지해야
합니다.</li>
<li>테스트 가능한 함수 형태(순수 함수)에 가까울수록 유지보수가
쉽습니다.</li>
</ul>
<h2 data-number="21.13" id="실무에서-바로-쓰는-체크리스트-19"><span
class="header-section-number">21.13</span> 실무에서 바로 쓰는
체크리스트</h2>
<ul class="task-list">
<li><label><input type="checkbox" />이 장에서 배운 개념을 한 문장으로
설명 가능</label></li>
<li><label><input type="checkbox" />대상 파일의 책임을 2개 이상 나누지
않음(SRP)</label></li>
<li><label><input type="checkbox" />하드코딩/매직넘버 제거</label></li>
<li><label><input type="checkbox" />예외 처리와 fallback
존재</label></li>
<li><label><input type="checkbox" />로그 카테고리 정의</label></li>
<li><label><input type="checkbox" />테스트 가능한 구조로
분리</label></li>
<li><label><input type="checkbox" />PR 전 analyze/test 수행</label></li>
<li><label><input type="checkbox" />사용자 노출 문구 QA
완료</label></li>
<li><label><input type="checkbox" />정책 위반 가능성 점검</label></li>
<li><label><input type="checkbox" />변경 내용 문서화</label></li>
</ul>
<div style="page-break-after: always;">

</div>
<h1 data-number="22" id="실습-종합-로드맵-12개-이상-요구-충족"><span
class="header-section-number">22</span> 실습 종합 로드맵 (12개 이상 요구
충족)</h1>
<table>
<thead>
<tr>
<th>번호</th>
<th>실습명</th>
<th>난이도</th>
<th>핵심 역량</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>앱 진입점 의존성 주입 이해</td>
<td>초급</td>
<td>bootstrap + ProviderScope</td>
</tr>
<tr>
<td>2</td>
<td>null-safety 모델 파싱</td>
<td>초급</td>
<td>타입 안정성</td>
</tr>
<tr>
<td>3</td>
<td>위젯 분해 연습</td>
<td>초급</td>
<td>재사용/가독성</td>
</tr>
<tr>
<td>4</td>
<td>레이아웃 안정화</td>
<td>초급</td>
<td>반응형 배치</td>
</tr>
<tr>
<td>5</td>
<td>Scaffold 구조 재조립</td>
<td>초급</td>
<td>화면 골격</td>
</tr>
<tr>
<td>6</td>
<td>setState 제한적 사용</td>
<td>초급</td>
<td>로컬 상태</td>
</tr>
<tr>
<td>7</td>
<td>Riverpod provider 연결</td>
<td>중급</td>
<td>상태관리</td>
</tr>
<tr>
<td>8</td>
<td>go_router redirect 테스트</td>
<td>중급</td>
<td>라우팅</td>
</tr>
<tr>
<td>9</td>
<td>테마 토큰 정리</td>
<td>중급</td>
<td>디자인 시스템</td>
</tr>
<tr>
<td>10</td>
<td>JSON 실패 fallback</td>
<td>중급</td>
<td>에러 처리</td>
</tr>
<tr>
<td>11</td>
<td>저장소 상태 복원</td>
<td>응용</td>
<td>persistence</td>
</tr>
<tr>
<td>12</td>
<td>레이어 분리 리팩터링</td>
<td>응용</td>
<td>아키텍처</td>
</tr>
<tr>
<td>13</td>
<td>UMP 동의 후 광고 요청 검증</td>
<td>응용</td>
<td>정책 준수</td>
</tr>
<tr>
<td>14</td>
<td>위젯 테스트 보강</td>
<td>응용</td>
<td>품질 게이트</td>
</tr>
<tr>
<td>15</td>
<td>로그 기반 디버깅 리포트 작성</td>
<td>응용</td>
<td>운영 안정성</td>
</tr>
<tr>
<td>16</td>
<td>릴리즈 빌드 사전 점검</td>
<td>응용</td>
<td>배포 안정성</td>
</tr>
<tr>
<td>17</td>
<td>CI 실패 원인 추적</td>
<td>응용</td>
<td>자동화 운영</td>
</tr>
<tr>
<td>18</td>
<td>Rebuild 최적화 측정</td>
<td>응용</td>
<td>성능</td>
</tr>
<tr>
<td>19</td>
<td>리팩터링 체크리스트 적용</td>
<td>응용</td>
<td>유지보수</td>
</tr>
<tr>
<td>20</td>
<td>Preflight 점검 자동화</td>
<td>응용</td>
<td>출시 품질</td>
</tr>
</tbody>
</table>
<hr />
<h1 data-number="23" id="용어집-glossary-90개"><span
class="header-section-number">23</span> 용어집 (Glossary, 90개)</h1>
<table>
<thead>
<tr>
<th>용어</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>Flutter</td>
<td>구글의 크로스플랫폼 UI 프레임워크</td>
</tr>
<tr>
<td>Dart</td>
<td>Flutter에서 사용하는 프로그래밍 언어</td>
</tr>
<tr>
<td>Widget</td>
<td>Flutter UI를 구성하는 최소 단위</td>
</tr>
<tr>
<td>StatelessWidget</td>
<td>상태가 없는 위젯</td>
</tr>
<tr>
<td>StatefulWidget</td>
<td>상태를 가지는 위젯</td>
</tr>
<tr>
<td>BuildContext</td>
<td>위젯 트리 상의 위치/정보 컨텍스트</td>
</tr>
<tr>
<td>Scaffold</td>
<td>기본 화면 골격 위젯</td>
</tr>
<tr>
<td>AppBar</td>
<td>상단 앱 바</td>
</tr>
<tr>
<td>SafeArea</td>
<td>노치/시스템 영역 회피</td>
</tr>
<tr>
<td>Row</td>
<td>가로 배치 레이아웃</td>
</tr>
<tr>
<td>Column</td>
<td>세로 배치 레이아웃</td>
</tr>
<tr>
<td>Stack</td>
<td>겹치기 레이아웃</td>
</tr>
<tr>
<td>Expanded</td>
<td>남는 공간 확장</td>
</tr>
<tr>
<td>Flexible</td>
<td>유연한 공간 분배</td>
</tr>
<tr>
<td>Padding</td>
<td>내부 여백</td>
</tr>
<tr>
<td>Margin</td>
<td>외부 여백(보통 Container로 표현)</td>
</tr>
<tr>
<td>ThemeData</td>
<td>앱 공통 테마 정의 객체</td>
</tr>
<tr>
<td>ColorScheme</td>
<td>색상 체계 토큰</td>
</tr>
<tr>
<td>TextTheme</td>
<td>텍스트 스타일 체계</td>
</tr>
<tr>
<td>Material3</td>
<td>최신 머티리얼 디자인 스펙</td>
</tr>
<tr>
<td>ProviderScope</td>
<td>Riverpod 루트 스코프</td>
</tr>
<tr>
<td>Provider</td>
<td>읽기 전용 의존성 제공자</td>
</tr>
<tr>
<td>StateProvider</td>
<td>단순 상태 제공자</td>
</tr>
<tr>
<td>NotifierProvider</td>
<td>상태 + 로직 제공자</td>
</tr>
<tr>
<td>Ref</td>
<td>Provider 읽기/구독 인터페이스</td>
</tr>
<tr>
<td>watch</td>
<td>상태 구독</td>
</tr>
<tr>
<td>read</td>
<td>단발성 읽기</td>
</tr>
<tr>
<td>invalidate</td>
<td>캐시 무효화</td>
</tr>
<tr>
<td>go_router</td>
<td>선언형 라우팅 패키지</td>
</tr>
<tr>
<td>GoRouter</td>
<td>라우터 인스턴스</td>
</tr>
<tr>
<td>GoRoute</td>
<td>단일 라우트 정의</td>
</tr>
<tr>
<td>redirect</td>
<td>조건부 경로 전환</td>
</tr>
<tr>
<td>deep link</td>
<td>URL로 특정 화면 진입</td>
</tr>
<tr>
<td>async/await</td>
<td>비동기 제어 문법</td>
</tr>
<tr>
<td>Future</td>
<td>비동기 결과 타입</td>
</tr>
<tr>
<td>Stream</td>
<td>비동기 이벤트 연속 타입</td>
</tr>
<tr>
<td>jsonDecode</td>
<td>JSON 문자열 파싱</td>
</tr>
<tr>
<td>exception</td>
<td>예외 상황 객체</td>
</tr>
<tr>
<td>stack trace</td>
<td>호출 스택 정보</td>
</tr>
<tr>
<td>fallback</td>
<td>실패 시 대체 동작</td>
</tr>
<tr>
<td>shared_preferences</td>
<td>키-값 로컬 저장소</td>
</tr>
<tr>
<td>cache</td>
<td>재사용 데이터 임시 저장</td>
</tr>
<tr>
<td>repository</td>
<td>데이터 접근 추상 계층</td>
</tr>
<tr>
<td>usecase</td>
<td>도메인 동작 유스케이스</td>
</tr>
<tr>
<td>model</td>
<td>데이터 구조 클래스</td>
</tr>
<tr>
<td>immutable</td>
<td>불변 객체 설계</td>
</tr>
<tr>
<td>SRP</td>
<td>단일 책임 원칙</td>
</tr>
<tr>
<td>OCP</td>
<td>개방-폐쇄 원칙</td>
</tr>
<tr>
<td>LSP</td>
<td>리스코프 치환 원칙</td>
</tr>
<tr>
<td>ISP</td>
<td>인터페이스 분리 원칙</td>
</tr>
<tr>
<td>DIP</td>
<td>의존성 역전 원칙</td>
</tr>
<tr>
<td>DI</td>
<td>의존성 주입</td>
</tr>
<tr>
<td>AdMob</td>
<td>구글 모바일 광고 플랫폼</td>
</tr>
<tr>
<td>Banner Ad</td>
<td>배너 광고 포맷</td>
</tr>
<tr>
<td>UMP</td>
<td>User Messaging Platform(동의 SDK)</td>
</tr>
<tr>
<td>consent</td>
<td>개인정보 동의 상태</td>
</tr>
<tr>
<td>Privacy Options</td>
<td>동의 설정 화면</td>
</tr>
<tr>
<td>AD_ID</td>
<td>Android 광고 ID 권한</td>
</tr>
<tr>
<td>AndroidManifest</td>
<td>Android 앱 메타데이터/권한 파일</td>
</tr>
<tr>
<td>build.gradle.kts</td>
<td>Android 빌드 설정 파일</td>
</tr>
<tr>
<td>applicationId</td>
<td>Android 패키지 식별자</td>
</tr>
<tr>
<td>versionCode</td>
<td>Android 내부 버전 코드</td>
</tr>
<tr>
<td>versionName</td>
<td>사용자 표시 버전</td>
</tr>
<tr>
<td>AAB</td>
<td>Android App Bundle</td>
</tr>
<tr>
<td>keystore</td>
<td>릴리즈 서명 키 저장소</td>
</tr>
<tr>
<td>key.properties</td>
<td>서명 정보 로컬 파일</td>
</tr>
<tr>
<td>CI</td>
<td>지속적 통합</td>
</tr>
<tr>
<td>CD</td>
<td>지속적 배포</td>
</tr>
<tr>
<td>GitHub Actions</td>
<td>CI/CD 자동화 플랫폼</td>
</tr>
<tr>
<td>workflow</td>
<td>자동화 파이프라인 정의</td>
</tr>
<tr>
<td>artifact</td>
<td>빌드 산출물</td>
</tr>
<tr>
<td>internal track</td>
<td>Play 내부 테스트 트랙</td>
</tr>
<tr>
<td>analyze</td>
<td>정적 분석 명령</td>
</tr>
<tr>
<td>flutter test</td>
<td>테스트 실행 명령</td>
</tr>
<tr>
<td>smoke test</td>
<td>핵심 동선 점검 테스트</td>
</tr>
<tr>
<td>widget test</td>
<td>UI 위젯 단위 테스트</td>
</tr>
<tr>
<td>unit test</td>
<td>로직 단위 테스트</td>
</tr>
<tr>
<td>integration test</td>
<td>통합 시나리오 테스트</td>
</tr>
<tr>
<td>lint</td>
<td>코드 규칙 검사</td>
</tr>
<tr>
<td>refactor</td>
<td>동작 유지 구조 개선</td>
</tr>
<tr>
<td>regression</td>
<td>기존 기능 퇴행 버그</td>
</tr>
<tr>
<td>technical debt</td>
<td>기술 부채</td>
</tr>
<tr>
<td>code review</td>
<td>변경 코드 검토</td>
</tr>
<tr>
<td>observability</td>
<td>관측 가능성(로그/메트릭)</td>
</tr>
<tr>
<td>logging</td>
<td>실행 기록</td>
</tr>
<tr>
<td>retry</td>
<td>실패 후 재시도</td>
</tr>
<tr>
<td>cooldown</td>
<td>재실행 간격 제한</td>
</tr>
<tr>
<td>policy compliance</td>
<td>정책 준수</td>
</tr>
<tr>
<td>Play Console</td>
<td>구글 플레이 배포 콘솔</td>
</tr>
<tr>
<td>Data safety</td>
<td>데이터 안전성 고지</td>
</tr>
<tr>
<td>privacy policy</td>
<td>개인정보처리방침</td>
</tr>
<tr>
<td>release note</td>
<td>버전 변경 안내</td>
</tr>
</tbody>
</table>
<hr />
<h1 data-number="24" id="부록-a.-프로젝트-맞춤-운영-규칙"><span
class="header-section-number">24</span> 부록 A. 프로젝트 맞춤 운영
규칙</h1>
<ol type="1">
<li>UI 수정은 우선 <code>lib/features/*</code>와
<code>lib/ui_components/*</code>에서 시작한다.</li>
<li>앱 전체 스타일은 <code>lib/app/theme.dart</code>에서만
조정한다.</li>
<li>광고/동의 로직은 <code>lib/core/ads/*</code> 외부에서 직접 호출하지
않는다.</li>
<li>저장소 키 변경 시 <code>preferences_store.dart</code> 마이그레이션
계획이 필요하다.</li>
<li>라우트 변경 시 <code>router_smoke_test.dart</code> 계열 테스트를
함께 수정한다.</li>
<li>Android 릴리즈 설정 변경 시 <code>build.gradle.kts</code>와
<code>AndroidManifest.xml</code>을 같이 검토한다.</li>
<li>배포 전 반드시 <code>flutter analyze</code>,
<code>flutter test -j 1</code>,
<code>flutter build appbundle --release</code>를 수행한다.</li>
</ol>
<h1 data-number="25" id="부록-b.-7일-학습-운영표-예시"><span
class="header-section-number">25</span> 부록 B. 7일 학습 운영표
(예시)</h1>
<table>
<thead>
<tr>
<th>Day</th>
<th>학습 범위</th>
<th>실습</th>
<th>완료 기준</th>
</tr>
</thead>
<tbody>
<tr>
<td>1일차</td>
<td>Chapter 1~3</td>
<td>실습 1~3</td>
<td>위젯 분해 가능</td>
</tr>
<tr>
<td>2일차</td>
<td>Chapter 4~5</td>
<td>실습 4~5</td>
<td>레이아웃 안정화</td>
</tr>
<tr>
<td>3일차</td>
<td>Chapter 6~7</td>
<td>실습 6~7</td>
<td>상태관리 이해</td>
</tr>
<tr>
<td>4일차</td>
<td>Chapter 8~10</td>
<td>실습 8~10</td>
<td>라우팅/비동기 처리</td>
</tr>
<tr>
<td>5일차</td>
<td>Chapter 11~13</td>
<td>실습 11~13</td>
<td>저장소/광고 정책</td>
</tr>
<tr>
<td>6일차</td>
<td>Chapter 14~17</td>
<td>실습 14~17</td>
<td>테스트/배포 자동화</td>
</tr>
<tr>
<td>7일차</td>
<td>Chapter 18~20</td>
<td>실습 18~20</td>
<td>성능/유지보수/프리플라이트</td>
</tr>
</tbody>
</table>
<hr />
<h1 data-number="26"
id="부록-c.-초보가-자주-하는-실수-50선과-즉시-해결법"><span
class="header-section-number">26</span> 부록 C. 초보가 자주 하는 실수
50선과 즉시 해결법</h1>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr>
<th>번호</th>
<th>실수</th>
<th>원인</th>
<th>즉시 해결법</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>setState 남발</td>
<td>상태 경계 미정의</td>
<td>로컬 상태 vs 전역 상태 분리</td>
</tr>
<tr>
<td>2</td>
<td>문자열 라우트 오타</td>
<td>상수화 미흡</td>
<td>라우트 상수/중앙 선언</td>
</tr>
<tr>
<td>3</td>
<td>try-catch 누락</td>
<td>낙관적 구현</td>
<td>실패 경로를 먼저 작성</td>
</tr>
<tr>
<td>4</td>
<td>하드코딩 색상 난립</td>
<td>토큰 부재</td>
<td>ThemeData 토큰화</td>
</tr>
<tr>
<td>5</td>
<td>빌드 전 테스트 생략</td>
<td>시간 압박</td>
<td>최소 스모크 자동화</td>
</tr>
<tr>
<td>6</td>
<td>로그 없이 디버깅</td>
<td>관측성 부재</td>
<td>카테고리 로그 추가</td>
</tr>
<tr>
<td>7</td>
<td>테스트 광고 배포</td>
<td>환경 분리 실패</td>
<td>dart-define 확인</td>
</tr>
<tr>
<td>8</td>
<td>권한 누락</td>
<td>Manifest 미검토</td>
<td>배포 전 권한 체크리스트</td>
</tr>
<tr>
<td>9</td>
<td>리팩터링 후 검증 누락</td>
<td>자신감 과잉</td>
<td>analyze/test/run 필수</td>
</tr>
<tr>
<td>10</td>
<td>중복 로직 복붙</td>
<td>구조 미설계</td>
<td>유틸/리포지토리 추출</td>
</tr>
<tr>
<td>11</td>
<td>JSON null 미처리</td>
<td>타입 가정</td>
<td>기본값/nullable 처리</td>
</tr>
<tr>
<td>12</td>
<td>비동기 race condition</td>
<td>await 누락</td>
<td>흐름도 작성 후 정렬</td>
</tr>
<tr>
<td>13</td>
<td>provider 순환 참조</td>
<td>설계 누락</td>
<td>레이어 방향 고정</td>
</tr>
<tr>
<td>14</td>
<td>UI와 도메인 결합</td>
<td>편의 구현</td>
<td>usecase 계층 도입</td>
</tr>
<tr>
<td>15</td>
<td>테스트 flaky</td>
<td>타이밍 의존</td>
<td>pumpUntil/고정 시나리오</td>
</tr>
<tr>
<td>16</td>
<td>import 혼선</td>
<td>파일 구조 난잡</td>
<td>feature 단위 정리</td>
</tr>
<tr>
<td>17</td>
<td>긴 함수</td>
<td>책임 과다</td>
<td>목적별 함수 분리</td>
</tr>
<tr>
<td>18</td>
<td>네이밍 불명확</td>
<td>역할 미정</td>
<td>동사+명사 규칙</td>
</tr>
<tr>
<td>19</td>
<td>스펙 미확정 개발</td>
<td>요구사항 부족</td>
<td>체크리스트 선작성</td>
</tr>
<tr>
<td>20</td>
<td>디버그 코드 유입</td>
<td>release 가드 부재</td>
<td>kDebugMode 가드</td>
</tr>
<tr>
<td>21</td>
<td>빈 화면 처리 누락</td>
<td>정상 케이스 편향</td>
<td>loading/empty/error 분리</td>
</tr>
<tr>
<td>22</td>
<td>국제화 미고려</td>
<td>문자열 분산</td>
<td>문구 관리 규칙</td>
</tr>
<tr>
<td>23</td>
<td>과한 rebuild</td>
<td>watch 범위 과대</td>
<td>Consumer 분할</td>
</tr>
<tr>
<td>24</td>
<td>대형 위젯 파일</td>
<td>모듈화 부족</td>
<td>컴포넌트 추출</td>
</tr>
<tr>
<td>25</td>
<td>cache 오염</td>
<td>무효화 누락</td>
<td>invalidate 정책</td>
</tr>
<tr>
<td>26</td>
<td>구버전 dependency</td>
<td>업데이트 미관리</td>
<td>pub outdated 점검</td>
</tr>
<tr>
<td>27</td>
<td>Android/iOS 차이 무시</td>
<td>플랫폼 인식 부족</td>
<td>platform detector 사용</td>
</tr>
<tr>
<td>28</td>
<td>release signing 실패</td>
<td>key.properties 누락</td>
<td>로컬/CI 템플릿 준비</td>
</tr>
<tr>
<td>29</td>
<td>ci 실패 원인 미기록</td>
<td>운영 절차 부재</td>
<td>실패 로그 템플릿</td>
</tr>
<tr>
<td>30</td>
<td>콘솔 입력값 혼동</td>
<td>문서 부재</td>
<td>docs/ 릴리즈 체크 표</td>
</tr>
<tr>
<td>31</td>
<td>동의 상태 오해</td>
<td>정책 이해 부족</td>
<td>Required/Obtained 구분</td>
</tr>
<tr>
<td>32</td>
<td>광고 요청 타이밍 오류</td>
<td>부트스트랩 순서 오류</td>
<td>consent 이후 init</td>
</tr>
<tr>
<td>33</td>
<td>JSON 스키마 변경 대응 실패</td>
<td>계약 문서 없음</td>
<td>모델 버전 관리</td>
</tr>
<tr>
<td>34</td>
<td>선택/비선택 색 대비 부족</td>
<td>접근성 미검토</td>
<td>대비 비율 체크</td>
</tr>
<tr>
<td>35</td>
<td>컴포넌트 props 과다</td>
<td>추상화 과잉</td>
<td>실제 사용 기준 축소</td>
</tr>
<tr>
<td>36</td>
<td>상태 초기화 누락</td>
<td>라이프사이클 이해 부족</td>
<td>init/dispose 점검</td>
</tr>
<tr>
<td>37</td>
<td>컨트롤러 dispose 누락</td>
<td>메모리 관리 미흡</td>
<td>dispose 규칙화</td>
</tr>
<tr>
<td>38</td>
<td>SnackBar 남용</td>
<td>UX 흐름 미고려</td>
<td>중요 이벤트만 노출</td>
</tr>
<tr>
<td>39</td>
<td>오류 메시지 노출 과다</td>
<td>내부 정보 노출</td>
<td>사용자 친화 메시지</td>
</tr>
<tr>
<td>40</td>
<td>폴더 규칙 없음</td>
<td>팀 컨벤션 부재</td>
<td>README 구조 명시</td>
</tr>
<tr>
<td>41</td>
<td>route push/go 혼용 오해</td>
<td>네비 API 이해 부족</td>
<td>사용 기준 문서화</td>
</tr>
<tr>
<td>42</td>
<td>versionCode 충돌</td>
<td>배포 전략 부재</td>
<td>run number 정책</td>
</tr>
<tr>
<td>43</td>
<td>스크린샷 관리 난잡</td>
<td>문서 자산 규칙 없음</td>
<td>docs/screenshots 규칙</td>
</tr>
<tr>
<td>44</td>
<td>assets 미사용 파일 누적</td>
<td>정리 프로세스 부재</td>
<td>주기적 정리 스크립트</td>
</tr>
<tr>
<td>45</td>
<td>로컬 빌드만 신뢰</td>
<td>환경 편차</td>
<td>CI 결과 우선</td>
</tr>
<tr>
<td>46</td>
<td>테스트 데이터 혼재</td>
<td>fixture 분리 미흡</td>
<td>test fixture 구성</td>
</tr>
<tr>
<td>47</td>
<td>코드리뷰 생략</td>
<td>일정 압박</td>
<td>최소 체크리스트 리뷰</td>
</tr>
<tr>
<td>48</td>
<td>핫픽스 후 문서 미갱신</td>
<td>운영 습관 부재</td>
<td>수정 후 docs 즉시 반영</td>
</tr>
<tr>
<td>49</td>
<td>롤백 경로 미준비</td>
<td>릴리즈 계획 부족</td>
<td>백업/태그 전략</td>
</tr>
<tr>
<td>50</td>
<td>학습 중단</td>
<td>목표 불명확</td>
<td>7일 루틴 재시작</td>
</tr>
</tbody>
</table>
<hr />
<h1 data-number="27" id="마무리"><span
class="header-section-number">27</span> 마무리</h1>
<p>이 교재의 목적은 “정답 코드 복사”가 아니라, <strong>당신이 다음
수정을 혼자 안전하게 수행하는 능력</strong>을 만드는 것입니다.</p>
<p>학습의 기준은 아래 한 문장으로 요약됩니다.</p>
<blockquote>
<p>기능을 추가하기 전에 구조를 이해하고, 구조를 바꾸기 전에 테스트를
먼저 준비하라.</p>
</blockquote>
<div style="page-break-after: always;">

</div>
<h1 data-number="28"
id="부록-d.-출시-전후-실전-운영-시나리오-30선"><span
class="header-section-number">28</span> 부록 D. 출시 전/후 실전 운영
시나리오 30선</h1>
<p>이 부록은 “실제로 유지보수할 때 무엇부터 확인해야 하는가”를 빠르게
찾기 위한 운영 핸드북입니다. 각 시나리오는 <strong>현상 → 원인 후보 →
즉시 조치 → 재검증 명령</strong> 순서로 작성했습니다.</p>
<h2 data-number="28.1" id="d-1.-빌드배포-시나리오-10선"><span
class="header-section-number">28.1</span> D-1. 빌드/배포 시나리오
10선</h2>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr>
<th>시나리오</th>
<th>현상</th>
<th>원인 후보</th>
<th>즉시 조치</th>
<th>재검증</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>AAB 빌드 실패</td>
<td>key.properties 누락</td>
<td>android/key.properties 생성</td>
<td>flutter build appbundle –release</td>
</tr>
<tr>
<td>2</td>
<td>릴리즈에서 광고 미노출</td>
<td>배너 유닛 ID 누락</td>
<td>dart-define/gradle 확인</td>
<td>로그 + 배너 로드 확인</td>
</tr>
<tr>
<td>3</td>
<td>테스트 광고가 릴리즈에 노출</td>
<td>ADMOB_USE_TEST_ADS true</td>
<td>릴리즈 플래그 false 고정</td>
<td>내부테스트 재빌드</td>
</tr>
<tr>
<td>4</td>
<td>Play 업로드 실패</td>
<td>서비스 계정 권한 부족</td>
<td>Play Console 권한 재부여</td>
<td>release workflow 재실행</td>
</tr>
<tr>
<td>5</td>
<td>versionCode 충돌</td>
<td>이전 값 재사용</td>
<td>run_number 기반 증가 정책 적용</td>
<td>재빌드 후 업로드</td>
</tr>
<tr>
<td>6</td>
<td>Manifest placeholder 오류</td>
<td>ADMOB_APP_ID 미설정</td>
<td>gradle.properties 값 설정</td>
<td>assembleRelease</td>
</tr>
<tr>
<td>7</td>
<td>CI 통과/로컬 실패</td>
<td>로컬 캐시 오염</td>
<td>flutter clean + pub get</td>
<td>analyze/test 재실행</td>
</tr>
<tr>
<td>8</td>
<td>앱 실행 즉시 크래시</td>
<td>초기화 순서 오류</td>
<td>bootstrap, Provider override 재점검</td>
<td>flutter run</td>
</tr>
<tr>
<td>9</td>
<td>라우팅 꼬임</td>
<td>redirect 조건 충돌</td>
<td>onboarding 분기 조건 재정의</td>
<td>router smoke test</td>
</tr>
<tr>
<td>10</td>
<td>아이콘 반영 실패</td>
<td>launcher 아이콘 생성 미실행</td>
<td>flutter_launcher_icons 재실행</td>
<td>기기 재설치 확인</td>
</tr>
</tbody>
</table>
<h2 data-number="28.2" id="d-2.-광고정책-시나리오-10선"><span
class="header-section-number">28.2</span> D-2. 광고/정책 시나리오
10선</h2>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr>
<th>시나리오</th>
<th>현상</th>
<th>원인 후보</th>
<th>즉시 조치</th>
<th>재검증</th>
</tr>
</thead>
<tbody>
<tr>
<td>11</td>
<td>동의 버튼 무반응</td>
<td>UMP 채널 예외</td>
<td>lastError 로깅 확인</td>
<td>Settings에서 재시도</td>
</tr>
<tr>
<td>12</td>
<td>동의 전 광고 요청</td>
<td>가드 누락</td>
<td>canRequestAds 체크 위치 상향</td>
<td>로그 검증</td>
</tr>
<tr>
<td>13</td>
<td>Privacy Options 불가</td>
<td>UMP 설정 미완료</td>
<td>AdMob 콘솔 폼 설정</td>
<td>디버그 기기 재검증</td>
</tr>
<tr>
<td>14</td>
<td>Unknown 상태 지속</td>
<td>동의 gather 미호출</td>
<td>앱 시작 gather 호출 보장</td>
<td>앱 재실행</td>
</tr>
<tr>
<td>15</td>
<td>배너 크기 null</td>
<td>adaptive size 실패</td>
<td>width/context 타이밍 점검</td>
<td>회전/재진입 테스트</td>
</tr>
<tr>
<td>16</td>
<td>에뮬레이터 광고 미표시</td>
<td>Play 인증/네트워크 이슈</td>
<td>실기기 테스트 병행</td>
<td>test device 등록</td>
</tr>
<tr>
<td>17</td>
<td>권한 관련 경고</td>
<td>AD_ID 누락</td>
<td>Manifest 권한 추가 확인</td>
<td>lint + 런타임 점검</td>
</tr>
<tr>
<td>18</td>
<td>사용자 불만 증가</td>
<td>과도한 광고 노출</td>
<td>배너 위치/빈도 재검토</td>
<td>UX 실측</td>
</tr>
<tr>
<td>19</td>
<td>정책 심사 거절</td>
<td>고지 문구 미흡</td>
<td>개인정보/광고 고지 업데이트</td>
<td>내부 QA</td>
</tr>
<tr>
<td>20</td>
<td>데이터 안전 혼선</td>
<td>콘솔 답변 불명확</td>
<td>수집/공유 항목 문서화</td>
<td>콘솔 점검</td>
</tr>
</tbody>
</table>
<h2 data-number="28.3" id="d-3.-상태데이터-시나리오-10선"><span
class="header-section-number">28.3</span> D-3. 상태/데이터 시나리오
10선</h2>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr>
<th>시나리오</th>
<th>현상</th>
<th>원인 후보</th>
<th>즉시 조치</th>
<th>재검증</th>
</tr>
</thead>
<tbody>
<tr>
<td>21</td>
<td>즐겨찾기 사라짐</td>
<td>저장 키 변경/초기화</td>
<td>키 상수 복구, 마이그레이션</td>
<td>재로그인 없이 확인</td>
</tr>
<tr>
<td>22</td>
<td>복습 큐 비정상</td>
<td>due 계산 로직 오류</td>
<td>submitReviewResult 분기 점검</td>
<td>단위 테스트</td>
</tr>
<tr>
<td>23</td>
<td>설치일 계산 오류</td>
<td>installDate 파싱 실패</td>
<td>기본값 처리 보강</td>
<td>dayIndex 테스트</td>
</tr>
<tr>
<td>24</td>
<td>검색 결과 0개</td>
<td>태그/쿼리 조건 충돌</td>
<td>필터 순서 확인</td>
<td>explore 수동 테스트</td>
</tr>
<tr>
<td>25</td>
<td>리스트 깜빡임</td>
<td>과도한 invalidate</td>
<td>provider 구독 범위 축소</td>
<td>성능 측정</td>
</tr>
<tr>
<td>26</td>
<td>JSON 파싱 실패</td>
<td>schema mismatch</td>
<td>fromJson fallback 보강</td>
<td>fixture 테스트</td>
</tr>
<tr>
<td>27</td>
<td>캐시 불일치</td>
<td>refresh 누락</td>
<td>cache delete + 메모리 초기화</td>
<td>새로고침 검증</td>
</tr>
<tr>
<td>28</td>
<td>언어 혼합 문구</td>
<td>문구 소스 분산</td>
<td>문자열 위치 정리</td>
<td>QA 스크립트</td>
</tr>
<tr>
<td>29</td>
<td>리뷰 간격 과도</td>
<td>interval 계산값 하드코딩</td>
<td>상수화 및 클램프</td>
<td>도메인 테스트</td>
</tr>
<tr>
<td>30</td>
<td>특정 화면만 느림</td>
<td>rebuild 범위 과대</td>
<td>Consumer 분할/const 최적화</td>
<td>profiler 확인</td>
</tr>
</tbody>
</table>
<hr />
<h2 data-number="28.4" id="d-4.-상황별-대응-플레이북-상세"><span
class="header-section-number">28.4</span> D-4. 상황별 대응 플레이북
(상세)</h2>
<h3 data-number="28.4.1"
id="플레이북-1-앱은-켜지는데-홈이-비어-있음"><span
class="header-section-number">28.4.1</span> 플레이북 1: “앱은 켜지는데
홈이 비어 있음”</h3>
<ol type="1">
<li>`contentSnapshotProvider` 상태를 loading/error/data로 분기해 로그를
찍습니다.</li>
<li>`assets/data/*.json`가 pubspec assets에 등록되었는지
확인합니다.</li>
<li>`ContentStore._loadSentences`에서 minCount 조건 충족 여부를
봅니다.</li>
<li>캐시 파일이 깨졌을 가능성이 있으면 refresh 루틴으로 캐시를
비웁니다.</li>
<li>에러 문구가 사용자 친화적인지(내부 stack 노출 금지) 점검합니다.</li>
</ol>
<p>재검증:</p>
<div class="sourceCode" id="cb89"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> pub get</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> analyze</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> test <span class="at">-j</span> 1</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="ex">flutter</span> run</span></code></pre></div>
<h3 data-number="28.4.2"
id="플레이북-2-탭-전환-시-이전-상태가-이상함"><span
class="header-section-number">28.4.2</span> 플레이북 2: “탭 전환 시 이전
상태가 이상함”</h3>
<ul>
<li>IndexedStack 기반인지 확인합니다.</li>
<li>상태가 화면 로컬인지 Provider 전역인지 경계를 점검합니다.</li>
<li>dispose 타이밍과 controller 재생성 여부를 확인합니다.</li>
<li>검색창/세그먼트 선택값이 탭별로 분리되어야 하는지 요구사항을
재검토합니다.</li>
</ul>
<h3 data-number="28.4.3"
id="플레이북-3-설정-화면에서-동의-상태가-unknown으로-고정"><span
class="header-section-number">28.4.3</span> 플레이북 3: “설정 화면에서
동의 상태가 Unknown으로 고정”</h3>
<ul>
<li>UMP 콘솔 설정(App ID, privacy form) 완료 여부 확인</li>
<li>네트워크/디버그 기기 해시 등록 여부 확인</li>
<li>`gatherConsent(force: true)` 재호출 시 상태 전이 여부 관찰</li>
<li>lastError를 사용자용 메시지와 내부 로그로 분리</li>
</ul>
<h3 data-number="28.4.4"
id="플레이북-4-스토어-심사-직전-최종-점검-순서"><span
class="header-section-number">28.4.4</span> 플레이북 4: “스토어 심사
직전 최종 점검 순서”</h3>
<ol type="1">
<li>앱 이름/아이콘/패키지명 확인</li>
<li>개인정보처리방침 링크 열림 여부 확인</li>
<li>광고 선언/데이터 안전 답변 최종 검수</li>
<li>릴리즈 노트(ko-KR) 최신 반영</li>
<li>내부 테스트 트랙 설치 검증</li>
<li>비정상 종료 없는지 최소 10분 스모크 테스트</li>
</ol>
<h3 data-number="28.4.5"
id="플레이북-5-핫픽스가-필요한-치명적-버그-발생"><span
class="header-section-number">28.4.5</span> 플레이북 5: “핫픽스가 필요한
치명적 버그 발생”</h3>
<ul>
<li>기준 브랜치에서 hotfix 브랜치를 분기</li>
<li>재현 테스트를 먼저 작성(또는 재현 절차 문서화)</li>
<li>최소 수정만 적용</li>
<li>analyze/test 통과 후 버전 증가</li>
<li>배포 후 모니터링 로그 체크</li>
</ul>
<hr />
<h2 data-number="28.5" id="d-5.-유지보수-체크시트-인쇄용"><span
class="header-section-number">28.5</span> D-5. 유지보수 체크시트
(인쇄용)</h2>
<h3 data-number="28.5.1" id="주간-체크시트"><span
class="header-section-number">28.5.1</span> 주간 체크시트</h3>
<ul class="task-list">
<li><label><input type="checkbox" />신규 경고/오류(analysis) 0건
유지</label></li>
<li><label><input type="checkbox" />flaky 테스트 여부 확인</label></li>
<li><label><input type="checkbox" />정책/문구 변경점 반영</label></li>
<li><label><input type="checkbox" />불필요 assets/code 정리</label></li>
<li><label><input type="checkbox" />release 문서 최신화</label></li>
<li><label><input type="checkbox" />crash 재현 보고서
업데이트</label></li>
</ul>
<h3 data-number="28.5.2" id="월간-체크시트"><span
class="header-section-number">28.5.2</span> 월간 체크시트</h3>
<ul class="task-list">
<li><label><input type="checkbox" />dependency 업데이트 필요성
검토</label></li>
<li><label><input type="checkbox" />성능 회귀 측정(탭 전환, 초기 진입,
리스트 스크롤)</label></li>
<li><label><input type="checkbox" />UX 개선 후보 5개 작성</label></li>
<li><label><input type="checkbox" />기술부채 목록 우선순위
재정렬</label></li>
<li><label><input type="checkbox" />Play Console 경고/권고사항
점검</label></li>
</ul>
<h3 data-number="28.5.3" id="분기-체크시트"><span
class="header-section-number">28.5.3</span> 분기 체크시트</h3>
<ul class="task-list">
<li><label><input type="checkbox" />아키텍처 룰 위반 코드
정리</label></li>
<li><label><input type="checkbox" />테스트 커버리지 핵심 흐름
점검</label></li>
<li><label><input type="checkbox" />CI/CD 실패 패턴 회고</label></li>
<li><label><input type="checkbox" />사고 대응 플레이북 갱신</label></li>
<li><label><input type="checkbox" />운영 문서와 실제 코드
동기화</label></li>
</ul>
<hr />
<h2 data-number="28.6" id="d-6.-11-코칭-질문-템플릿"><span
class="header-section-number">28.6</span> D-6. 1:1 코칭 질문 템플릿</h2>
<p>멘토링 또는 자기점검에 아래 질문을 사용하세요.</p>
<ol type="1">
<li>이 변경은 어떤 사용자 문제를 해결하는가?</li>
<li>이 변경은 어느 레이어에서 책임져야 하는가?</li>
<li>기존 테스트는 무엇이 깨질 수 있는가?</li>
<li>실패 시 fallback이 준비되어 있는가?</li>
<li>로그로 원인 추적이 가능한가?</li>
<li>한 주 뒤 내가 다시 봐도 이해 가능한가?</li>
<li>릴리즈 노트에 어떤 문장으로 남길 것인가?</li>
</ol>
</body>
</html>
